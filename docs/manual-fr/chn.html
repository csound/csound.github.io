<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>chn</title>
    <link rel="stylesheet" type="text/css" href="csound.css" />
    <link rel="stylesheet" type="text/css" href="syntax-highlighting.css" />
    <meta name="generator" content="DocBook XSL Stylesheets V1.79.1" />
    <link rel="home" href="index.html" title="Manuel de référence canonique de Csound" />
    <link rel="up" href="OpcodesTop.html" title="Opcodes et opérateurs de l'orchestre" />
    <link rel="prev" href="checkbox.html" title="checkbox" />
    <link rel="next" href="chnclear.html" title="chnclear" />
  </head>
  <body>
    <div class="navheader">
      <table width="100%" summary="Navigation header">
        <tr>
          <th colspan="3" align="center">chn</th>
        </tr>
        <tr>
          <td width="20%" align="left"><a accesskey="p" href="checkbox.html">Précédent</a> </td>
          <th width="60%" align="center">Opcodes et opérateurs de l'orchestre</th>
          <td width="20%" align="right"> <a accesskey="n" href="chnclear.html">Suivant</a></td>
        </tr>
      </table>
      <hr />
    </div>
    <div class="refentry">
      <a id="chn"></a>
      <div class="titlepage"></div>
      <a id="Indexchn" class="indexterm"></a>
      <div class="refnamediv">
        <h2>
          <span class="refentrytitle">chn</span>
        </h2>
        <p>chn — 
      Déclare un canal du bus logiciel nommé.
    </p>
      </div>
      <div class="refsect1">
        <a id="idm38142"></a>
        <h2>Description</h2>
        <p>
      Déclare un canal du bus logiciel nommé, en donnant des paramètres facultatifs
      dans le cas d'un canal de contrôle. Si le canal n'existe pas encore, il est
      créé avec une valeur initiale de zéro ou une chaîne de caractères vide. Sinon
      le type (contrôle, audio ou chaînes de caractères) du canal existant doit
      correspondre à la déclaration ou bien il y aura une erreur d'initialisation.
      Le mode entrée/sortie d'un canal existant est mis à jour de façon à représenter
      le OU binaire entre la valeur précédente et la nouvelle.
    </p>
      </div>
      <div class="refsect1">
        <a id="idm38145"></a>
        <h2>Syntaxe</h2>
        <pre class="synopsis"> <span class="command"><strong>chn_k</strong></span> Sname, imode[, itype, idflt, imin, imax, ix, iy, iwidth, iheight, Sattributes]</pre>
        <pre class="synopsis"> <span class="command"><strong>chn_a</strong></span> Sname, imode</pre>
        <pre class="synopsis"> <span class="command"><strong>chn_S</strong></span> Sname, imode</pre>
      </div>
      <div class="refsect1">
        <a id="idm38153"></a>
        <h2>Initialisation</h2>
        <p>
      <span class="emphasis"><em>imode</em></span> -- somme d'au moins un des nombres suivants : 1 pour
      entrée et 2 pour sortie.
    </p>
        <p>
      <span class="emphasis"><em>itype</em></span> (facultatif, 0 par défaut) -- sous-type du canal,
      seulement pour les canaux de contrôle. Les valeurs possibles sont :
      </p>
        <div class="itemizedlist">
          <ul class="itemizedlist" style="list-style-type: disc; ">
            <li class="listitem">
              <p>
            0 : par défault / indéfini (<span class="emphasis"><em>idflt</em></span>, <span class="emphasis"><em>imin</em></span>
            et <span class="emphasis"><em>imax</em></span> sont ignorés)
          </p>
            </li>
            <li class="listitem">
              <p>
            1 : seulement des valeurs entières
          </p>
            </li>
            <li class="listitem">
              <p>
            2 : échelle linéaire
          </p>
            </li>
            <li class="listitem">
              <p>
            3 : échelle exponentielle
          </p>
            </li>
          </ul>
        </div>
        <p>
    </p>
        <p>
      <span class="emphasis"><em>idflt</em></span> (facultatif, 0 par défaut) -- valeur par défaut,
      seulement pour les canaux de contrôle avec <span class="emphasis"><em>itype</em></span>
      différent de zéro. Doit être supérieur ou égal à <span class="emphasis"><em>imin</em></span>
      et inférieur ou égal à <span class="emphasis"><em>imax</em></span>.
    </p>
        <p>
      <span class="emphasis"><em>imin</em></span> (facultatif, 0 par défaut) -- valeur minimale,
      seulement pour les canaux de contrôle avec <span class="emphasis"><em>itype</em></span>
      différent de zéro. Doit être différent de zéro pour l'échelle exponentielle
      (<span class="emphasis"><em>itype</em></span> = 3).
    </p>
        <p>
      <span class="emphasis"><em>imax</em></span> (facultatif, 0 par défaut) -- valeur maximale,
      seulement pour les canaux de contrôle avec <span class="emphasis"><em>itype</em></span>
      différent de zéro. Doit être supérieur à <span class="emphasis"><em>imin</em></span>. Dans le
      cas d'une échelle exponentielle, il doit également avoir le même signe que
      <span class="emphasis"><em>imin</em></span>.
    </p>
        <p>
      <span class="emphasis"><em>ix</em></span> -- position x suggérée pour le contrôleur.
    </p>
        <p>
      <span class="emphasis"><em>iy</em></span> -- position y suggérée pour le contrôleur.
    </p>
        <p>
      <span class="emphasis"><em>iwidth</em></span> -- position suggérée de la largeur pour le contrôleur.
    </p>
        <p>
      <span class="emphasis"><em>iheight</em></span> -- position suggérée de la hauteur pour le contrôleur.
    </p>
        <p>
      <span class="emphasis"><em>Sattributes</em></span> -- attributs pour le contrôleur.
    </p>
      </div>
      <div class="refsect1">
        <a id="idm38195"></a>
        <h2>Notes</h2>
        <p>
      Les paramètres du canal (<span class="emphasis"><em>imode</em></span>, <span class="emphasis"><em>itype</em></span>,
      <span class="emphasis"><em>idflt</em></span>, <span class="emphasis"><em>imin</em></span> et <span class="emphasis"><em>imax</em></span>)
      ne sont que des indications pour l'application hôte ou un logiciel externe
      accédant au bus par l'API, et ils ne restreignent en rien la lecture ou
      l'écriture sur le canal. De plus, la valeur initiale d'un nouveau canal
      de contrôle est zéro, quelque soit la valeur de <span class="emphasis"><em>idflt</em></span>.
    </p>
        <p>
      Il peut être préférable d'utiliser
      <a class="link" href="chnexport.html" title="chnexport"><em class="citetitle">chnexport</em></a> pour
      communiquer avec un logiciel externe, car il permet un accès direct aux
      variables de l'orchestre exportées comme des canaux du bus, ce qui évite
      l'utilisation de <a class="link" href="chnset.html" title="chnset"><em class="citetitle">chnset</em></a>
      et de <a class="link" href="chnget.html" title="chnget"><em class="citetitle">chnget</em></a> pour
      envoyer ou recevoir des données.
    </p>
      </div>
      <div class="refsect1">
        <a id="idm38211"></a>
        <h2>Exécution</h2>
        <p>
      <span class="command"><strong>chn_k</strong></span>, <span class="command"><strong>chn_a</strong></span>, et
      <span class="command"><strong>chn_S</strong></span> déclarent respectivement un canal de contrôle, un
      canal audio ou un canal de chaînes de caractères.
    </p>
      </div>
      <div class="refsect1">
        <a id="idm38217"></a>
        <h2>Exemples</h2>
        <p>
      L'exemple montre l'utilisation du bus logiciel comme signal de contrôle
      asynchrone pour fixer la fréquence de coupure du filtre. On suppose qu'un
      programme externe utilisant l'API fournit les valeurs.
    </p>
        <div class="informalexample">
          <pre class="programlisting">
        <span class="ohdr">sr</span> <span class="op">=</span> 44100
        <span class="ohdr">kr</span> <span class="op">=</span> 100
        <span class="ohdr">ksmps</span> <span class="op">=</span> 1

        <span class="opc">chn_k</span> "cutoff", 1, 3, 1000, 500, 2000

        <span class="oblock">instr</span>   1
           kc   <span class="opc">chnget</span>    "cutoff"
           a1   <span class="opc">oscil</span>     p4, p5, 100
           a2   <span class="opc">lowpass2</span>  a1, kc, 200
                <span class="opc">out</span>       a2
        <span class="oblock">endin</span>
      </pre>
        </div>
      </div>
      <div class="refsect1">
        <a id="idm38235"></a>
        <h2>Crédits</h2>
        <p>
      </p>
        <table border="0" summary="Simple list" class="simplelist">
          <tr>
            <td>Auteur : Istvan Varga</td>
          </tr>
          <tr>
            <td>2005</td>
          </tr>
        </table>
        <p>
    </p>
      </div>
    </div>
    <div class="navfooter">
      <hr />
      <table width="100%" summary="Navigation footer">
        <tr>
          <td width="40%" align="left"><a accesskey="p" href="checkbox.html">Précédent</a> </td>
          <td width="20%" align="center">
            <a accesskey="u" href="OpcodesTop.html">Niveau supérieur</a>
          </td>
          <td width="40%" align="right"> <a accesskey="n" href="chnclear.html">Suivant</a></td>
        </tr>
        <tr>
          <td width="40%" align="left" valign="top">checkbox </td>
          <td width="20%" align="center">
            <a accesskey="h" href="index.html">Sommaire</a>
          </td>
          <td width="40%" align="right" valign="top"> chnclear</td>
        </tr>
      </table>
    </div>
  </body>
</html>
