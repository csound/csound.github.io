<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>GEN01</title>
    <link rel="stylesheet" type="text/css" href="csound.css" />
    <link rel="stylesheet" type="text/css" href="syntax-highlighting.css" />
    <meta name="generator" content="DocBook XSL Stylesheets Vsnapshot" />
    <link rel="home" href="index.html" title="Manuel de référence canonique de Csound" />
    <link rel="up" href="ScoregensTop.html" title="Instructions de partition et routines GEN" />
    <link rel="prev" href="ScoreGenRef.html" title="Routines GEN" />
    <link rel="next" href="GEN02.html" title="GEN02" />
  </head>
  <body>
    <div class="navheader">
      <table width="100%" summary="Navigation header">
        <tr>
          <th colspan="3" align="center">GEN01</th>
        </tr>
        <tr>
          <td width="20%" align="left"><a accesskey="p" href="ScoreGenRef.html">Précédent</a> </td>
          <th width="60%" align="center">Instructions de partition et routines GEN</th>
          <td width="20%" align="right"> <a accesskey="n" href="GEN02.html">Suivant</a></td>
        </tr>
      </table>
      <hr />
    </div>
    <div class="refentry">
      <a id="GEN01"></a>
      <div class="titlepage"></div>
      <a id="IndexGEN01" class="indexterm"></a>
      <div class="refnamediv">
        <h2>
          <span class="refentrytitle">GEN01</span>
        </h2>
        <p>GEN01 — 
      Transfère des données d'un fichier son dans une table de fonction.
    </p>
      </div>
      <div class="refsect1">
        <a id="idm405188"></a>
        <h2>Description</h2>
        <p>
      Ce sous-programme transfère des données d'un fichier son dans une table de fonction.
    </p>
      </div>
      <div class="refsect1">
        <a id="idm405191"></a>
        <h2>Syntaxe</h2>
        <pre class="synopsis"><span class="command"><strong>f</strong></span>#  date  taille  1  codfic  decal  format  canal</pre>
      </div>
      <div class="refsect1">
        <a id="idm405195"></a>
        <h2>Exécution</h2>
        <p>
      <span class="emphasis"><em>taille</em></span> -- nombre de points dans la table. Ordinairement une puissance de 2 ou
      une puissance-de-2 plus 1 (voir l'<a class="link" href="f.html" title="Instruction f (ou instruction de table de fonction)"><em class="citetitle">instruction f</em></a>) ;
      la taille de table maximale est de 16777216 (2<sup>24</sup>) points. L'allocation de
      mémoire pour la table peut être <span class="emphasis"><em>différée</em></span> en mettant ce paramètre à 0 ; la taille
      allouée est alors le nombre de points dans le fichier (probablement pas une puissance de 2), et la
      table n'est pas utilisable par les oscillateurs normaux, mais par l'unité
      <a class="link" href="loscil.html" title="loscil"><em class="citetitle">loscil</em></a>. Le fichier son peut aussi être mono ou
      stéréo.
    </p>
        <p>
      <span class="emphasis"><em>codfic</em></span> -- entier ou chaîne de caractères dénotant le nom du fichier son source.
      Un entier dénote le fichier <span class="emphasis"><em>soundin</em></span>.<span class="emphasis"><em>codfic</em></span> ; une chaîne de
      caractères (entre apostrophes doubles, espaces autorisés) donne le nom du fichier lui-même,
      optionnellement un nom de chemin complet. Si le chemin n'est pas complet, le fichier est d'abord
      cherché dans le répertoire courant, ensuite dans celui qui est donné par la variable d'environnement
      <a class="link" href="CommandEnvironment.html" title="Variables d'environnement de Csound"><em class="citetitle">SSDIR</em></a> (si elle est définie)
      enfin par <a class="link" href="CommandEnvironment.html" title="Variables d'environnement de Csound"><em class="citetitle">SFDIR</em></a>. Voir aussi
      <a class="link" href="soundin.html" title="soundin"><em class="citetitle">soundin</em></a>.
    </p>
        <p>
      <span class="emphasis"><em>decal</em></span> -- commence à lire à <span class="emphasis"><em>decal</em></span> secondes dans le fichier.
    </p>
        <p>
      <span class="emphasis"><em>canal</em></span> -- numéro du canal à lire. 0 indique de lire tous les canaux.
    </p>
        <p>
      <span class="emphasis"><em>format</em></span> -- s'il est positif, il est ignoré, mais s'il
      est négatif, il spécifie le format audio d'un fichier brut :
        </p>
        <div class="literallayout">
          <p><br />
          -1 - 8-bit caractères signés<br />
          -2 - 8-bit octets A-law<br />
          -3 - 8-bit octets U-law<br />
          -4 - 16-bit entiers courts<br />
          -5 - 32-bit entiers longs<br />
          -6 - 32-bit flottants<br />
          -7 - 8-bit caractères non signés<br />
          -8 - 24-bit entiers<br />
          -9 - 64-bit doubles</p>
        </div>
        <p>
    </p>
        <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
          <table border="0" summary="Note">
            <tr>
              <td rowspan="2" align="center" valign="top" width="25">
                <img alt="[Note]" src="images/note.png" />
              </td>
              <th align="left">Note</th>
            </tr>
            <tr>
              <td align="left" valign="top">
                <p>
      Cette liste n'est pas la même que celle qui est dans
      <a class="link" href="diskin.html" title="diskin"><em class="citetitle">diskin2</em></a>.
    </p>
              </td>
            </tr>
          </table>
        </div>
        <p>
      Si <span class="emphasis"><em>format</em></span> = 0 le format des échantillons est lu dans l'en-tête du fichier son.
    </p>
        <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
          <table border="0" summary="Note: Note">
            <tr>
              <td rowspan="2" align="center" valign="top" width="25">
                <img alt="[Note]" src="images/note.png" />
              </td>
              <th align="left">Note</th>
            </tr>
            <tr>
              <td align="left" valign="top">
                <p>
        </p>
                <div class="itemizedlist">
                  <ul class="itemizedlist" style="list-style-type: disc; ">
                    <li class="listitem">
                      <p>
              La lecture s'arrête à la fin du fichier ou lorsque la table est pleine. Les cellules de la
              table non remplies contiendront des zéros.
            </p>
                    </li>
                    <li class="listitem">
                      <p>
              Si p4 est positif, la table sera post-normalisée (reproportionnée avec une valeur absolue
              maximale de 1 après génération). Une valeur de p4 négative empêche cette opération.
            </p>
                    </li>
                    <li class="listitem">
                      <p>
              GEN01 fonctionne aussi avec les formats WAV et OGG ainsi que d'autres
              formats ; ceux-ci dépendent de libsndfile. Voir
              <a class="ulink" href="http://www.mega-nerd.com/libsndfile/" target="_top"><em class="citetitle">http://www.mega-nerd.com/libsndfile/</em></a>
            </p>
                    </li>
                  </ul>
                </div>
                <p>
      </p>
              </td>
            </tr>
          </table>
        </div>
      </div>
      <div class="refsect1">
        <a id="idm405241"></a>
        <h2>Exemples</h2>
        <p>
      Voici un exemple de la routine GEN01. Il utilise le fichier
      <a class="ulink" href="examples/gen01.csd" target="_top"><em class="citetitle">gen01.csd</em></a>
      et plusieurs fichiers son.

      </p>
        <div class="example">
          <a id="idm405246"></a>
          <p class="title">
            <strong>Exemple 1274. Un exemple de la routine GEN01.</strong>
          </p>
          <div class="example-contents">
            <div class="refsect1">
              <a id="idm405248"></a>
              <pre class="programlisting">
<span class="nt">&lt;CsoundSynthesizer&gt;</span> 
<span class="nt">&lt;CsOptions&gt;</span> 
<span class="c1">; Select audio/midi flags here according to platform </span>
-odac     <span class="c1">;;;realtime audio out </span>
<span class="c1">;-iadc    ;;;uncomment -iadc if realtime audio input is needed too </span>
<span class="c1">; For Non-realtime ouput leave only the line below: </span>
<span class="c1">; -o gen01.wav -W ;;; for file output any platform </span>
<span class="nt">&lt;/CsOptions&gt;</span> 
<span class="nt">&lt;CsInstruments&gt;</span><span class="w"> 

</span><span class="vg">sr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">44100</span><span class="w"> 
</span><span class="vg">ksmps</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">32</span><span class="w"> 
</span><span class="vg">nchnls</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="w"> 
</span><span class="vg">0dbfs</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="w"> 

</span><span class="kd">instr</span><span class="w"> </span><span class="nf">1</span><span class="w">	</span><span class="c1">;plays deferred and non-deferred sounds with loscil</span><span class="w">

</span>i<span class="n">fn</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="vi">p4</span><span class="w">
</span>i<span class="n">bas</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="w">

</span>a<span class="n">sig</span><span class="w"> </span><span class="nb">loscil</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span>i<span class="n">fn</span><span class="p">,</span><span class="w"> </span>i<span class="n">bas</span><span class="w">
     </span><span class="nb">outs</span><span class="w"> </span>a<span class="n">sig</span><span class="p">,</span><span class="w"> </span>a<span class="n">sig</span><span class="w">
    
</span><span class="kd">endin</span><span class="w">

</span><span class="kd">instr</span><span class="w"> </span><span class="nf">2</span><span class="w">	</span><span class="c1">;plays only non-deffered sound            </span><span class="w">

</span>i<span class="n">snd</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="vi">p4</span><span class="w">
</span>a<span class="n">read</span><span class="w"> </span><span class="nb">line</span><span class="w">   </span><span class="vg">sr</span><span class="o">*</span><span class="vi">p3</span><span class="p">,</span><span class="w"> </span><span class="vi">p3</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w">				</span><span class="c1">;play this backward</span><span class="w">
</span>a<span class="n">sig</span><span class="w">  </span><span class="nb">tablei</span><span class="w"> </span>a<span class="n">read</span><span class="p">,</span><span class="w"> </span>i<span class="n">snd</span><span class="w">				</span><span class="c1">;use table 1</span><span class="w">
      </span><span class="nb">outs</span><span class="w">   </span>a<span class="n">sig</span><span class="p">,</span><span class="w"> </span>a<span class="n">sig</span><span class="w">
        
</span><span class="kd">endin</span><span class="w">
</span><span class="nt">&lt;/CsInstruments&gt;</span>
<span class="nt">&lt;CsScore&gt;</span><span class="w">
</span><span class="nb">f</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="mi">131072</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="s">"beats.wav"</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="mi">0</span><span class="w">			</span><span class="c1">;non-deferred sound</span><span class="w">
</span><span class="nb">f</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">0</span><span class="w">    </span><span class="mi">0</span><span class="w">   </span><span class="mi">1</span><span class="w"> </span><span class="s">"flute.aiff"</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="mi">0</span><span class="w">			</span><span class="c1">;&amp; deferred sounds in </span><span class="w">
</span><span class="nb">f</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="mi">0</span><span class="w">    </span><span class="mi">0</span><span class="w">   </span><span class="mi">1</span><span class="w"> </span><span class="s">"beats.ogg"</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="mi">0</span><span class="w">			</span><span class="c1">;different formats					</span><span class="w">

</span><span class="nb">i</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">1</span><span class="w">
</span><span class="nb">i</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">2</span><span class="w">
</span><span class="nb">i</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">3</span><span class="w">

</span><span class="nb">i</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">1</span><span class="w">	</span><span class="c1">;non-deffered sound for instr. 2</span><span class="w">
</span><span class="nb">e</span><span class="w">
</span><span class="nt">&lt;/CsScore&gt;</span>
<span class="nt">&lt;/CsoundSynthesizer&gt;</span>
</pre>
            </div>
          </div>
        </div>
        <p><br class="example-break" />

      <span class="phrase">Voici les diagrammes des formes d'onde des routines GEN01 utilisées
        dans l'exemple :</span>

      </p>
        <div class="mediaobject">
          <img src="images/gen01_01.png" alt="f 1 0 131072 1 &quot;beats.wav&quot; 0 0 0 - son non-différé." />
          <div class="caption">
            <p>f 1 0 131072 1 "beats.wav" 0 0 0 - son non-différé.</p>
          </div>
        </div>
        <p>

      </p>
        <div class="mediaobject">
          <img src="images/gen01_2.png" alt="f 2 0 0 1 &quot;flute.aiff&quot; 0 0 0 - son différé" />
          <div class="caption">
            <p>f 2 0 0 1 "flute.aiff" 0 0 0 - son différé</p>
          </div>
        </div>
        <p>

      </p>
        <div class="mediaobject">
          <img src="images/gen01_3.png" alt="f 3 0 0 1 &quot;beats.ogg&quot; 0 0 0 - son différé" />
          <div class="caption">
            <p>f 3 0 0 1 "beats.ogg" 0 0 0 - son différé</p>
          </div>
        </div>
        <p>

    </p>
      </div>
      <div class="refsect1">
        <a id="idm405506"></a>
        <h2>Crédits</h2>
        <p>Septembre 2003. Remerciements au Dr. Richard Boulanger pour avoir
    signalé les références au format de fichier AIFF.</p>
        <p>Revisé dans la v6.11 et dans la v6.12 pour clarifier le statut des
    en-têtes et des fichiers bruts et pour ajouter trois formats
    d'échantillons.</p>
      </div>
    </div>
    <div class="navfooter">
      <hr />
      <table width="100%" summary="Navigation footer">
        <tr>
          <td width="40%" align="left"><a accesskey="p" href="ScoreGenRef.html">Précédent</a> </td>
          <td width="20%" align="center">
            <a accesskey="u" href="ScoregensTop.html">Niveau supérieur</a>
          </td>
          <td width="40%" align="right"> <a accesskey="n" href="GEN02.html">Suivant</a></td>
        </tr>
        <tr>
          <td width="40%" align="left" valign="top">Routines GEN </td>
          <td width="20%" align="center">
            <a accesskey="h" href="index.html">Sommaire</a>
          </td>
          <td width="40%" align="right" valign="top"> GEN02</td>
        </tr>
      </table>
    </div>
  </body>
</html>
