<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>websocket</title>
    <link rel="stylesheet" type="text/css" href="csound.css" />
    <link rel="stylesheet" type="text/css" href="syntax-highlighting.css" />
    <meta name="generator" content="DocBook XSL Stylesheets Vsnapshot" />
    <link rel="home" href="index.html" title="Manuel de référence canonique de Csound" />
    <link rel="up" href="OpcodesTop.html" title="Opcodes et opérateurs de l'orchestre" />
    <link rel="prev" href="waveset.html" title="waveset" />
    <link rel="next" href="weibull.html" title="weibull" />
  </head>
  <body>
    <div class="navheader">
      <table width="100%" summary="Navigation header">
        <tr>
          <th colspan="3" align="center">websocket</th>
        </tr>
        <tr>
          <td width="20%" align="left"><a accesskey="p" href="waveset.html">Précédent</a> </td>
          <th width="60%" align="center">Opcodes et opérateurs de l'orchestre</th>
          <td width="20%" align="right"> <a accesskey="n" href="weibull.html">Suivant</a></td>
        </tr>
      </table>
      <hr />
    </div>
    <div class="refentry">
      <a id="websocket"></a>
      <div class="titlepage"></div>
      <a id="IndexWebsocket" class="indexterm"></a>
      <div class="refnamediv">
        <h2>
          <span class="refentrytitle">websocket</span>
        </h2>
        <p>websocket — 
      Lit et écrit des signaux et des tableaux en utilisant une connexion WebSocket.
    </p>
      </div>
      <div class="refsect1">
        <a id="idm387030"></a>
        <h2>Description</h2>
        <p>
      Opcode du greffon websocketIO. Ce greffon se trouve dans le
      répertoire des greffons et il doit être installé séparément.
      Le répertoire des greffons est ici :
      <a class="ulink" href="https://github.com/csound/plugins" target="_top">
      <em class="citetitle">https://github.com/csound/plugins</em></a>
    </p>
        <p>
      <span class="emphasis"><em>websocket</em></span> lit et écrit <span class="emphasis"><em>N</em></span> signaux
      et tableaux en utilisant une connexion WebSocket.
    </p>
      </div>
      <div class="refsect1">
        <a id="idm387038"></a>
        <h2>Syntaxe</h2>
        <pre class="synopsis">xout1[, xout2, xout3, ..., xoutN] <span class="command"><strong>websocket</strong></span> iport, xin</pre>
      </div>
      <div class="refsect1">
        <a id="idm387042"></a>
        <h2>Initialisation</h2>
        <p>
      <span class="emphasis"><em>iport</em></span> -- Le port web local où lire/écrire les données.
    </p>
      </div>
      <div class="refsect1">
        <a id="idm387046"></a>
        <h2>Exécution</h2>
        <p>
      <span class="emphasis"><em>xout1,... xoutN</em></span> -- Les variables en sortie contenant
      les données reçues du WebSocket. Côté Web, le WebSocket doit envoyer les
      données en utilisant un nom de protocole qui correspond au nom de la variable
      de sortie, par exemple "ksignal" pour une variable de taux-k. Si un tableau
      est attendu il doit d'abord être initialisé avant d'être utilisé comme
      sortie de l'opcode. Sinon l'opcode ne connaît pas la taille des données
      attendues du WebSocket. Lorque l'on envoie des données à un WebSocket depuis
      la page Web, elles doivent être envoyées sous la forme d'un tableau de
      nombres 32 ou 64 bit en fonction de la version de Csound utilisée. 
    </p>
        <p>
      <span class="emphasis"><em>xin1</em></span> -- La variable d'entrée qui contient
      les données à envoyer au WebSocket. Côté Web, le WebSocket reçoit les
      données en utilisant un nom de protocole qui correspond au nom de la
      variable d'entrée, par exemple "ksignal" pour une variable de taux-k.
      Lorsque l'on reçoit des données d'un WebSocket sur la page Web, il faut
      les lire comme tableau de nombres 32 ou 64 bit en fonction de la version
      de Csound utilisée. </p>
        <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
          <table border="0" summary="Note">
            <tr>
              <td rowspan="2" align="center" valign="top" width="25">
                <img alt="[Note]" src="images/note.png" />
              </td>
              <th align="left">Note</th>
            </tr>
            <tr>
              <td align="left" valign="top">Le nombre total d'arguments d'entrée et de
      sortie est limité à 20.</td>
            </tr>
          </table>
        </div>
        <p>
    </p>
        <p>
      Les variables de taux-a doivent être envoyées et reçues sous la forme de
      tableaux contenant <span class="emphasis"><em>ksmps</em></span> échantillons. Les tableaux
      de taux-a sont de même envoyés et reçus comme <span class="emphasis"><em>ksmps</em></span>
      éléments dans le tableau. Les variables de taux-k sont envoyées et reçues
      comme un tableau à un seul élément. Les tableaux de taux-k sont envoyés
      et reçus comme des tableaux ayant le même nombre d'éléments.
    </p>
      </div>
      <div class="refsect1">
        <a id="idm387057"></a>
        <h2>Exemples</h2>
        <p>
      Voici un exemple simple de l'opcode websocket. Il utilise les fichiers
      <a class="ulink" href="examples/websocket.csd" target="_top"><em class="citetitle">websocket.csd</em></a>
      et <a class="ulink" href="examples/websocket.html" target="_top"><em class="citetitle">websocket.html</em></a>.
      </p>
        <div class="example">
          <a id="idm387064"></a>
          <p class="title">
            <strong>Exemple 1210. Exemple de l'opcode websocket.</strong>
          </p>
          <div class="example-contents">
            <p>Voir les sections <a class="link" href="UsingRealTime.html" title="Audio en temps réel"><em class="citetitle">Audio en temps réel</em></a>
        et <a class="link" href="CommandFlags.html" title="Ligne de commande de Csound"><em class="citetitle">Options de la ligne de commande</em></a> pour plus
        d'information sur l'utilisation des options de la ligne de commande.</p>
            <div class="refsect1">
              <a id="idm387071"></a>
              <pre class="programlisting">
<span class="nt">&lt;CsoundSynthesizer&gt;</span>
<span class="nt">&lt;CsOptions&gt;</span>
-odac
<span class="nt">&lt;/CsOptions&gt;</span>
<span class="nt">&lt;CsInstruments&gt;</span><span class="w">
</span><span class="vg">nchnls</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="w">
</span><span class="vg">0dbfs</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="w">
</span><span class="vg">ksmps</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">256</span><span class="w">
</span><span class="vg">sr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">44100</span><span class="w">

</span><span class="nb">schedule</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="mi">1</span><span class="w">

</span><span class="kd">instr</span><span class="w"> </span><span class="nf">1</span><span class="w">
    </span>k<span class="n">lfo</span><span class="w"> </span><span class="nb">lfo</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w">
    </span>i<span class="n">port</span><span class="w"> </span><span class="nb">init</span><span class="w"> </span><span class="mi">8888</span><span class="w">
    </span>k<span class="n">input</span><span class="w"> </span><span class="nb">websocket</span><span class="w"> </span>i<span class="n">port</span><span class="p">,</span><span class="w"> </span>k<span class="n">lfo</span><span class="w">
    </span><span class="nb">printk2</span><span class="w"> </span>k<span class="n">input</span><span class="w">
</span><span class="kd">endin</span><span class="w">

</span><span class="nt">&lt;/CsInstruments&gt;</span>
<span class="nt">&lt;CsScore&gt;</span><span class="w">
</span><span class="nt">&lt;/CsScore&gt;</span>
<span class="nt">&lt;/CsoundSynthesizer&gt;</span>
</pre>
            </div>
          </div>
        </div>
        <p><br class="example-break" />
    </p>
      </div>
      <div class="refsect1">
        <a id="idm387152"></a>
        <h2>Voir aussi</h2>
        <p>
      <a class="link" href="OSClisten.html" title="OSClisten"><em class="citetitle">OSClisten</em></a>
      <a class="link" href="OSCsend.html" title="OSCsend"><em class="citetitle">OSCsend</em></a>
    </p>
      </div>
      <div class="refsect1">
        <a id="idm387159"></a>
        <h2>Crédits</h2>
        <p>
      </p>
        <table border="0" summary="Simple list" class="simplelist">
          <tr>
            <td>Auteur : Edward Costello;</td>
          </tr>
          <tr>
            <td>NUIM, 2015</td>
          </tr>
        </table>
        <p>
    </p>
        <p>Nouveau dans la version 6.06</p>
      </div>
    </div>
    <div class="navfooter">
      <hr />
      <table width="100%" summary="Navigation footer">
        <tr>
          <td width="40%" align="left"><a accesskey="p" href="waveset.html">Précédent</a> </td>
          <td width="20%" align="center">
            <a accesskey="u" href="OpcodesTop.html">Niveau supérieur</a>
          </td>
          <td width="40%" align="right"> <a accesskey="n" href="weibull.html">Suivant</a></td>
        </tr>
        <tr>
          <td width="40%" align="left" valign="top">waveset </td>
          <td width="20%" align="center">
            <a accesskey="h" href="index.html">Sommaire</a>
          </td>
          <td width="40%" align="right" valign="top"> weibull</td>
        </tr>
      </table>
    </div>
  </body>
</html>
