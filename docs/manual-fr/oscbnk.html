<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>oscbnk</title>
    <link rel="stylesheet" type="text/css" href="csound.css" />
    <link rel="stylesheet" type="text/css" href="syntax-highlighting.css" />
    <meta name="generator" content="DocBook XSL Stylesheets V1.79.1" />
    <link rel="home" href="index.html" title="Manuel de référence canonique de Csound" />
    <link rel="up" href="OpcodesTop.html" title="Opcodes et opérateurs de l'orchestre" />
    <link rel="prev" href="opcode.html" title="opcode" />
    <link rel="next" href="oscil1.html" title="oscil1" />
  </head>
  <body>
    <div class="navheader">
      <table width="100%" summary="Navigation header">
        <tr>
          <th colspan="3" align="center">oscbnk</th>
        </tr>
        <tr>
          <td width="20%" align="left"><a accesskey="p" href="opcode.html">Précédent</a> </td>
          <th width="60%" align="center">Opcodes et opérateurs de l'orchestre</th>
          <td width="20%" align="right"> <a accesskey="n" href="oscil1.html">Suivant</a></td>
        </tr>
      </table>
      <hr />
    </div>
    <div class="refentry">
      <a id="oscbnk"></a>
      <div class="titlepage"></div>
      <a id="IndexOscbnk" class="indexterm"></a>
      <div class="refnamediv">
        <h2>
          <span class="refentrytitle">oscbnk</span>
        </h2>
        <p>oscbnk — 
      Mélange la sortie de n'importe quel nombre d'oscillateurs.
    </p>
      </div>
      <div class="refsect1">
        <a id="idm45499724337440"></a>
        <h2>Description</h2>
        <p>
      Ce générateur unitaire mélange la sortie de n'importe quel nombre d'oscillateurs. La fréquence, la
      phase et l'amplitude de chaque oscillateur peuvent être modulées par deux LFO (tous les oscillateurs
      ont un jeu de LFO séparé, avec différentes phase et fréquence) ; de plus, la sortie de chaque
      oscillateur peut être filtrée au travers d'un égaliseur paramétrique (aussi contrôlé par les LFO).
      Cet opcode trouve sa plus grande utilité dans des instruments de rendu d'ensemble (cordes, chœur,
      etc.).
    </p>
        <p>
      Bien que les LFO fonctionnent au taux-k, les modulations d'amplitude, de phase et de filtrage sont
      interpolées en interne, et il est ainsi possible (et recommandé dans la plupart des cas) d'utiliser
      cette unité avec de faibles taux de contrôle (~1000 Hz) sans dégradation audible de la qualité.
    </p>
        <p>
      La phase et la fréquence initiale de tous les oscillateurs et LFO peuvent être fixées par un
      générateur intégré de nombres aléatoires sur 31 bit amorçable par une <span class="quote">« <span class="quote">graine</span> »</span>, ou
      spécifiées manuellement dans une table de fonction (GEN2).
    </p>
      </div>
      <div class="refsect1">
        <a id="idm45499724333200"></a>
        <h2>Syntaxe</h2>
        <pre class="synopsis">ares <span class="command"><strong>oscbnk</strong></span>  kcps, kamd, kfmd, kpmd, iovrlap, iseed, kl1minf, kl1maxf, \
      kl2minf, kl2maxf, ilfomode, keqminf, keqmaxf, keqminl, keqmaxl, \
      keqminq, keqmaxq, ieqmode, kfn [, il1fn] [, il2fn] [, ieqffn]   \
      [, ieqlfn] [, ieqqfn] [, itabl] [, ioutfn]</pre>
      </div>
      <div class="refsect1">
        <a id="idm45499724330928"></a>
        <h2>Initialisation</h2>
        <p>
      <span class="emphasis"><em>iovrlap</em></span> -- Nombre d'oscillateurs.
    </p>
        <p>
      <span class="emphasis"><em>iseed</em></span> -- Valeur de la graine du générateur de nombres aléatoires (entier
      positif dans l'intervalle 1 à 2147483646 (2 ^ 31 - 2)). Si <span class="emphasis"><em>iseed</em></span> &lt;= 0
      la graine est l'heure courante.
    </p>
        <p>
      <span class="emphasis"><em>ieqmode</em></span> -- Mode de l'égaliseur paramétrique
        </p>
        <div class="itemizedlist">
          <ul class="itemizedlist" style="list-style-type: disc; ">
            <li class="listitem">
              <p>-1 : désactive l'EQ (plus rapide)</p>
            </li>
            <li class="listitem">
              <p>0 : crête</p>
            </li>
            <li class="listitem">
              <p>1 : à plateau low shelf</p>
            </li>
            <li class="listitem">
              <p>2 : à plateau high shelf</p>
            </li>
            <li class="listitem">
              <p>3 : crête (filtrage sans interpolation)</p>
            </li>
            <li class="listitem">
              <p>4 : à plateau low shelf (sans interpolation)</p>
            </li>
            <li class="listitem">
              <p>5 : à plateau high shelf (sans interpolation)</p>
            </li>
          </ul>
        </div>
        <p>

      Les modes sans interpolation sont plus rapides, et dans certains cas (par exemple filtre à plateau
      high shelf aux fréquences de coupure basses) également plus stables ; cependant, l'interpolation est
      utile pour éviter le <span class="quote">« <span class="quote">bruit de transition</span> »</span> aux faibles taux de contrôle.
    </p>
        <p>
      <span class="emphasis"><em>ilfomode</em></span> -- Type de la modulation par les LFO, somme de :
        </p>
        <div class="itemizedlist">
          <ul class="itemizedlist" style="list-style-type: disc; ">
            <li class="listitem">
              <p>128 : LFO1 module la fréquence</p>
            </li>
            <li class="listitem">
              <p>64 : LFO1 module l'amplitude</p>
            </li>
            <li class="listitem">
              <p>32 : LFO1 module la phase</p>
            </li>
            <li class="listitem">
              <p>16 : LFO1 module l'EQ</p>
            </li>
            <li class="listitem">
              <p>8 : LFO2 module la fréquence</p>
            </li>
            <li class="listitem">
              <p>4 : LFO2 module l'amplitude</p>
            </li>
            <li class="listitem">
              <p>2 : LFO2 module la phase</p>
            </li>
            <li class="listitem">
              <p>1 : LFO2 module l'EQ</p>
            </li>
          </ul>
        </div>
        <p>

      Si un LFO ne module rien, il n'est pas calculé, et le numéro de sa ftable (<span class="emphasis"><em>il1fn</em></span>
      ou <span class="emphasis"><em>il2fn</em></span>) peut être omis.
    </p>
        <p>
      <span class="emphasis"><em>il1fn</em></span> (facultatif : par défaut 0) -- Numéro de la table de fonction de LFO1. La
      forme d'onde dans cette table doit être normalisée (valeur absolue &lt;= 1), et elle est lue avec une
      interpolation linéaire.
    </p>
        <p>
      <span class="emphasis"><em>il2fn</em></span> (facultatif : par défaut 0) -- Numéro de la table de fonction de LFO2. La
      forme d'onde dans cette table doit être normalisée (valeur absolue &lt;= 1), et elle est lue avec une
      interpolation linéaire.
    </p>
        <p>
      <span class="emphasis"><em>ieqffn, ieqlfn, ieqqfn</em></span> (facultatif : par défaut 0) -- Tables de lecture pour la
      fréquence, le niveau et le Q de EQ (facultatif si EQ est désactivé). La position de lecture dans une
      table est 0 si le signal de modulation est inférieur ou égal à -1, (longueur de table / 2) si le
      signal de modulation vaut zero, et le point de garde si le signal de modulation est supérieur ou égal
      à 1. Ces tables doivent être normalisées dans l'intervalle 0 - 1, et ont un point de garde étendu
      (longueur de table = puissance de deux + 1). Toutes les tables sont lues avec une interpolation
      linéaire.
    </p>
        <p>
      <span class="emphasis"><em>itabl</em></span> (facultatif : par défaut 0) -- Table de fonction stockant les valeurs de
      phase et de fréquence pour tous les oscillateurs (facultatif). Les valeurs dans cette table sont
      dans l'ordre suivant (5 pour chaque oscillateur) :
      </p>
        <div class="informalexample">
          <div class="literallayout">
            <p>phase de l'oscillateur, phase de lfo1, fréquence de lfo1, phase de lfo2, fréquence de lfo2, ...</p>
          </div>
        </div>
        <p>
      Toutes les valeurs sont dans l'intervalle 0 à 1 ; si le nombre spécifié est supérieur à 1, il est
      ramené cycliquement (phase) ou limité (fréquence) à l'intérieur de l'intervalle permis. Une valeur
      négative (ou la fin de la table) utilisera la sortie du générateur de nombres aléatoires. La valeur
      aléatoire est toujours calculée (même si aucun nombre aléatoire n'est utilisé), si bien que le fait
      de basculer entre une valeur aléatoire et une valeur fixe n'altérera pas les autres valeurs.
    </p>
        <p>
      <span class="emphasis"><em>ioutfn</em></span> (facultatif : par défaut 0) -- Table de fonction pour écrire les valeurs
      de phase et de fréquence (facultatif). Le format est le même que celui de <span class="emphasis"><em>itabl</em></span>.
      Cette table est utile lors de l'expérimentation avec des nombres aléatoires pour enregistrer les
      meilleures valeurs.
    </p>
        <p>
      L'accès aux deux tables facultatives (<span class="emphasis"><em>itabl</em></span> et <span class="emphasis"><em>ioutfn</em></span>) n'a
      lieu que pendant l'initialisation. Il est utile de savoir cela, car les tables peuvent être réécrites
      en toute sécurité après l'initialisation de l'opcode, permettant le pré-calcul des paramètres pendant
      le temps-i et le stockage dans une table temporaire avant l'initialisation de
      <span class="emphasis"><em>oscbnk</em></span>.
    </p>
      </div>
      <div class="refsect1">
        <a id="idm45499724303040"></a>
        <h2>Exécution</h2>
        <p>
      <span class="emphasis"><em>ares</em></span> -- Signal de sortie.
    </p>
        <p>
      <span class="emphasis"><em>kcps</em></span> -- Fréquence de l'oscillateur en Hz.
    </p>
        <p>
      <span class="emphasis"><em>kamd</em></span> -- Profondeur de la modulation d'amplitude (0 - 1). 
      </p>
        <div class="literallayout">
          <p>(sortie MA) = (entrée MA) * ((1 - (prof MA)) + (prof MA) * (modulateur))</p>
        </div>
        <p>

      Si <span class="emphasis"><em>ilfomode</em></span> n'est pas réglé pour moduler l'amplitude, alors (sortie MA) =
      (entrée MA) quelque soit la valeur de <span class="emphasis"><em>kamd</em></span>. Dans ce cas,
      <span class="emphasis"><em>kamd</em></span> n'aura pas d'effet.
    </p>
        <p>
      Note : La modulation d'amplitude est appliquée avant l'égaliseur paramétrique. 
    </p>
        <p>
      <span class="emphasis"><em>kfmd</em></span> -- Profondeur de la MF (en Hz).
    </p>
        <p>
      <span class="emphasis"><em>kpmd</em></span> -- Profondeur de la modulation de phase.
    </p>
        <p>
      <span class="emphasis"><em>kl1minf, kl1maxf</em></span> -- Fréquence minimale et maximale de LFO1 en Hz.
    </p>
        <p>
      <span class="emphasis"><em>kl2minf, kl2maxf</em></span> --  Fréquence minimale et maximale de LFO2 en Hz. (Note :
      il est permis d'avoir des fréquences nulles ou négatives pour l'oscillateur et les LFO.)
    </p>
        <p>
      <span class="emphasis"><em>keqminf, keqmaxf</em></span> -- Fréquence minimale et maximale de l'égaliseur paramétrique
      en Hz.
    </p>
        <p>
      <span class="emphasis"><em>keqminl, keqmaxl</em></span> -- Niveau minimum et maximum de l'égaliseur paramétrique.
    </p>
        <p>
      <span class="emphasis"><em>keqminq, keqmaxq</em></span> -- Q minimum et maximum de l'égaliseur paramétrique.
    </p>
        <p>
      <span class="emphasis"><em>kfn</em></span> -- Table de la forme d'onde de l'oscillateur. Le numéro de la table peut
      être changé au taux-k (c'est utile pour choisir parmi un ensemble de tables à bande limitée générées
      par GEN30, afin d'éviter les erreurs de repliement). La table est lue avec une interpolation linéaire.
    </p>
        <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
          <table border="0" summary="Note: Note">
            <tr>
              <td rowspan="2" align="center" valign="top" width="25">
                <img alt="[Note]" src="images/note.png" />
              </td>
              <th align="left">Note</th>
            </tr>
            <tr>
              <td align="left" valign="top">
                <p>
        <span class="emphasis"><em>oscbnk</em></span> utilise le même générateur de nombres aléatoires que
        <span class="emphasis"><em>rnd31</em></span>. C'est pourquoi il est également recommandé de lire
        <a class="link" href="rnd31.html" title="rnd31"><em class="citetitle">sa documentation</em></a>.
      </p>
              </td>
            </tr>
          </table>
        </div>
      </div>
      <div class="refsect1">
        <a id="idm45499724285136"></a>
        <h2>Exemples</h2>
        <p>
      Voici un exemple de l'opcode oscbnk. Il utilise le fichier
      <a class="ulink" href="examples/oscbnk.csd" target="_top"><em class="citetitle">oscbnk.csd</em></a>.

      </p>
        <div class="example">
          <a id="idm45499724283264"></a>
          <p class="title">
            <strong>Exemple 632. Exemple de l'opcode oscbnk.</strong>
          </p>
          <div class="example-contents">
            <p>Voir les sections <a class="link" href="UsingRealTime.html" title="Audio en temps réel"><em class="citetitle">Audio en Temps Réel</em></a>
        et <a class="link" href="CommandFlags.html" title="Ligne de commande de Csound"><em class="citetitle">Options de la Ligne de Commande</em></a> pour
        plus d'information sur l'utilisation de la ligne de commande.</p>
            <div class="refsect1">
              <a id="idm45499542504048"></a>
              <pre class="programlisting">
<span class="nt">&lt;CsoundSynthesizer&gt;</span>
<span class="nt">&lt;CsOptions&gt;</span>
<span class="c1">; Select audio/midi flags here according to platform</span>
<span class="c1">; Audio out   Audio in    No messages</span>
-odac           -iadc     -d     <span class="c1">;;;RT audio I/O</span>
<span class="c1">; For Non-realtime ouput leave only the line below:</span>
<span class="c1">; -o oscbnk.wav -W ;;; for file output any platform</span>
<span class="nt">&lt;/CsOptions&gt;</span>
<span class="nt">&lt;CsInstruments&gt;</span>

<span class="cm">/* Written by Istvan Varga */</span>
<span class="vg">sr</span>	<span class="o">=</span>  <span class="mi">48000</span>
<span class="vg">kr</span>	<span class="o">=</span>  <span class="mi">750</span>
<span class="vg">ksmps</span>	<span class="o">=</span>  <span class="mi">64</span>
<span class="vg">nchnls</span>	<span class="o">=</span>  <span class="mi">2</span>

ga<span class="n">01</span>	<span class="nb">init</span> <span class="mi">0</span>
ga<span class="n">02</span>	<span class="nb">init</span> <span class="mi">0</span>

<span class="cm">/* sawtooth wave */</span>
i<span class="n">_</span>	<span class="nb">ftgen</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">16384</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">16384</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span>
<span class="cm">/* FM waveform */</span>
i<span class="n">_</span>	<span class="nb">ftgen</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">4096</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">512</span><span class="p">,</span> <span class="mf">0.25</span><span class="p">,</span> <span class="mi">512</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">512</span><span class="p">,</span> <span class="mf">0.25</span><span class="p">,</span> <span class="mi">512</span><span class="p">,</span>	<span class="w">\</span>
			     <span class="mi">0</span><span class="p">,</span> <span class="mi">512</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.25</span><span class="p">,</span> <span class="mi">512</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">512</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.25</span><span class="p">,</span> <span class="mi">512</span><span class="p">,</span> <span class="mi">0</span>
<span class="cm">/* AM waveform */</span>
i<span class="n">_</span>	<span class="nb">ftgen</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">4096</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">4096</span><span class="p">,</span> <span class="mf">0.01</span>
<span class="cm">/* FM to EQ */</span>
i<span class="n">_</span>	<span class="nb">ftgen</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1024</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">512</span><span class="p">,</span> <span class="mi">32</span><span class="p">,</span> <span class="mi">512</span><span class="p">,</span> <span class="mi">1</span>
<span class="cm">/* sine wave */</span>
i<span class="n">_</span>	<span class="nb">ftgen</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1024</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">1</span>
<span class="cm">/* room parameters */</span>
i<span class="n">_</span>	<span class="nb">ftgen</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">64</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span>			<span class="w">\</span>
			    <span class="mi">1</span><span class="p">,</span> <span class="mf">26.833</span><span class="p">,</span> <span class="mf">0.05</span><span class="p">,</span> <span class="mf">0.85</span><span class="p">,</span> <span class="mi">10000</span><span class="p">,</span> <span class="mf">0.8</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span>	<span class="w">\</span>
			    <span class="mi">1</span><span class="p">,</span>  <span class="mf">1.753</span><span class="p">,</span> <span class="mf">0.05</span><span class="p">,</span> <span class="mf">0.85</span><span class="p">,</span>  <span class="mi">5000</span><span class="p">,</span> <span class="mf">0.8</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span>	<span class="w">\</span>
			    <span class="mi">1</span><span class="p">,</span> <span class="mf">39.451</span><span class="p">,</span> <span class="mf">0.05</span><span class="p">,</span> <span class="mf">0.85</span><span class="p">,</span>  <span class="mi">7000</span><span class="p">,</span> <span class="mf">0.8</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span>	<span class="w">\</span>
			    <span class="mi">1</span><span class="p">,</span> <span class="mf">33.503</span><span class="p">,</span> <span class="mf">0.05</span><span class="p">,</span> <span class="mf">0.85</span><span class="p">,</span>  <span class="mi">7000</span><span class="p">,</span> <span class="mf">0.8</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span>	<span class="w">\</span>
			    <span class="mi">1</span><span class="p">,</span> <span class="mf">36.151</span><span class="p">,</span> <span class="mf">0.05</span><span class="p">,</span> <span class="mf">0.85</span><span class="p">,</span>  <span class="mi">7000</span><span class="p">,</span> <span class="mf">0.8</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span>	<span class="w">\</span>
			    <span class="mi">1</span><span class="p">,</span> <span class="mf">29.633</span><span class="p">,</span> <span class="mf">0.05</span><span class="p">,</span> <span class="mf">0.85</span><span class="p">,</span>  <span class="mi">7000</span><span class="p">,</span> <span class="mf">0.8</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mi">2</span>

<span class="cm">/* generate bandlimited sawtooth waves */</span>

i<span class="n">0</span>	<span class="o">=</span>  <span class="mi">0</span>
<span class="nl">loop1</span><span class="p">:</span>
i<span class="n">maxh</span>	<span class="o">=</span>  <span class="vg">sr</span> <span class="o">/</span> <span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="mf">440.0</span> <span class="o">*</span> <span class="nb">exp</span><span class="p">(</span><span class="nb">log</span><span class="p">(</span><span class="mf">2.0</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span>i<span class="n">0</span> <span class="o">-</span> <span class="mi">69</span><span class="p">)</span> <span class="o">/</span> <span class="mi">12</span><span class="p">))</span>
i<span class="n">_</span>	<span class="nb">ftgen</span> i<span class="n">0</span> <span class="o">+</span> <span class="mi">256</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">4096</span><span class="p">,</span> <span class="o">-</span><span class="mi">30</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> i<span class="n">maxh</span>
i<span class="n">0</span>	<span class="o">=</span>  i<span class="n">0</span> <span class="o">+</span> <span class="mi">1</span>
	<span class="k">if</span> <span class="p">(</span>i<span class="n">0</span> <span class="o">&lt;</span> <span class="mf">127.5</span><span class="p">)</span> <span class="k">igoto</span> <span class="nl">loop1</span>

	<span class="kd">instr</span> <span class="nf">1</span>

<span class="vi">p3</span>	<span class="o">=</span>  <span class="vi">p3</span> <span class="o">+</span> <span class="mf">0.4</span>

<span class="c1">; note frequency</span>
k<span class="n">cps</span>	<span class="o">=</span>  <span class="mf">440.0</span> <span class="o">*</span> <span class="nb">exp</span><span class="p">(</span><span class="nb">log</span><span class="p">(</span><span class="mf">2.0</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="vi">p4</span> <span class="o">-</span> <span class="mi">69</span><span class="p">)</span> <span class="o">/</span> <span class="mi">12</span><span class="p">)</span>
<span class="c1">; lowpass max. frequency</span>
k<span class="n">lpmaxf</span>	<span class="nb">limit</span> <span class="mi">64</span> <span class="o">*</span> k<span class="n">cps</span><span class="p">,</span> <span class="mf">1000.0</span><span class="p">,</span> <span class="mf">12000.0</span>
<span class="c1">; FM depth in Hz</span>
k<span class="n">fmd1</span>	<span class="o">=</span>  <span class="mf">0.02</span> <span class="o">*</span> k<span class="n">cps</span>
<span class="c1">; AM frequency</span>
k<span class="n">amfr</span>	<span class="o">=</span>  k<span class="n">cps</span> <span class="o">*</span> <span class="mf">0.02</span>
k<span class="n">amfr2</span>	<span class="o">=</span>  k<span class="n">cps</span> <span class="o">*</span> <span class="mf">0.1</span>
<span class="c1">; table number</span>
k<span class="n">fnum</span>	<span class="o">=</span>  <span class="p">(</span><span class="mi">256</span> <span class="o">+</span> <span class="mi">69</span> <span class="o">+</span> <span class="mf">0.5</span> <span class="o">+</span> <span class="mi">12</span> <span class="o">*</span> <span class="nb">log</span><span class="p">(</span>k<span class="n">cps</span> <span class="o">/</span> <span class="mf">440.0</span><span class="p">)</span> <span class="o">/</span> <span class="nb">log</span><span class="p">(</span><span class="mf">2.0</span><span class="p">))</span>
<span class="c1">; amp. envelope</span>
a<span class="n">env</span>	<span class="nb">linseg</span> <span class="mi">0</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="vi">p3</span> <span class="o">-</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mi">0</span>

<span class="cm">/* oscillator / left */</span>

a<span class="n">1</span>	<span class="nb">oscbnk</span> k<span class="n">cps</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> k<span class="n">fmd1</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mi">40</span><span class="p">,</span> <span class="mi">200</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">144</span><span class="p">,</span>	      <span class="w">\</span>
		<span class="mf">0.0</span><span class="p">,</span> k<span class="n">lpmaxf</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.5</span><span class="p">,</span> <span class="mf">1.5</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span>			      <span class="w">\</span>
		k<span class="n">fnum</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">5</span>
a<span class="n">2</span>	<span class="nb">oscbnk</span> k<span class="n">cps</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> k<span class="n">fmd1</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mi">40</span><span class="p">,</span> <span class="mi">201</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">,</span> k<span class="n">amfr</span><span class="p">,</span> k<span class="n">amfr2</span><span class="p">,</span> <span class="mi">148</span><span class="p">,</span>  <span class="w">\</span>
		<span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span>					      <span class="w">\</span>
		k<span class="n">fnum</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span>
a<span class="n">2</span>	<span class="nb">pareq</span> a<span class="n">2</span><span class="p">,</span> k<span class="n">cps</span> <span class="o">*</span> <span class="mi">8</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.7071</span><span class="p">,</span> <span class="mi">2</span>
a<span class="n">0</span>	<span class="o">=</span>  a<span class="n">1</span> <span class="o">+</span> a<span class="n">2</span> <span class="o">*</span> <span class="mf">0.12</span>
<span class="cm">/* delay */</span>
a<span class="n">del</span>	<span class="o">=</span>  <span class="mf">0.001</span>
a<span class="n">01</span>	<span class="nb">vdelayx</span> a<span class="n">0</span><span class="p">,</span> a<span class="n">del</span><span class="p">,</span> <span class="mf">0.01</span><span class="p">,</span> <span class="mi">16</span>
a<span class="n">_</span>	<span class="nb">oscili</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.25</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mf">0.0</span>
a<span class="n">del</span>	<span class="o">=</span>  a<span class="n">del</span> <span class="o">+</span> <span class="mf">1.0</span> <span class="o">/</span> <span class="p">(</span><span class="nb">exp</span><span class="p">(</span><span class="nb">log</span><span class="p">(</span><span class="mf">2.0</span><span class="p">)</span> <span class="o">*</span> a<span class="n">_</span><span class="p">)</span> <span class="o">*</span> <span class="mi">8000</span><span class="p">)</span>
a<span class="n">02</span>	<span class="nb">vdelayx</span> a<span class="n">0</span><span class="p">,</span> a<span class="n">del</span><span class="p">,</span> <span class="mf">0.01</span><span class="p">,</span> <span class="mi">16</span>
a<span class="n">0</span>	<span class="o">=</span>  a<span class="n">01</span> <span class="o">+</span> a<span class="n">02</span>

ga<span class="n">01</span>	<span class="o">=</span>  ga<span class="n">01</span> <span class="o">+</span> a<span class="n">0</span> <span class="o">*</span> a<span class="n">env</span> <span class="o">*</span> <span class="mi">2500</span>

<span class="cm">/* oscillator / right */</span>

<span class="c1">; lowpass max. frequency</span>

a<span class="n">1</span>	<span class="nb">oscbnk</span> k<span class="n">cps</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> k<span class="n">fmd1</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mi">40</span><span class="p">,</span> <span class="mi">202</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">144</span><span class="p">,</span>	      <span class="w">\</span>
		<span class="mf">0.0</span><span class="p">,</span> k<span class="n">lpmaxf</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span>			      <span class="w">\</span>
		k<span class="n">fnum</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">5</span>
a<span class="n">2</span>	<span class="nb">oscbnk</span> k<span class="n">cps</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> k<span class="n">fmd1</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mi">40</span><span class="p">,</span> <span class="mi">203</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">,</span> k<span class="n">amfr</span><span class="p">,</span> k<span class="n">amfr2</span><span class="p">,</span> <span class="mi">148</span><span class="p">,</span>  <span class="w">\</span>
		<span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span>					      <span class="w">\</span>
		k<span class="n">fnum</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span>
a<span class="n">2</span>	<span class="nb">pareq</span> a<span class="n">2</span><span class="p">,</span> k<span class="n">cps</span> <span class="o">*</span> <span class="mi">8</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.7071</span><span class="p">,</span> <span class="mi">2</span>
a<span class="n">0</span>	<span class="o">=</span>  a<span class="n">1</span> <span class="o">+</span> a<span class="n">2</span> <span class="o">*</span> <span class="mf">0.12</span>
<span class="cm">/* delay */</span>
a<span class="n">del</span>	<span class="o">=</span>  <span class="mf">0.001</span>
a<span class="n">01</span>	<span class="nb">vdelayx</span> a<span class="n">0</span><span class="p">,</span> a<span class="n">del</span><span class="p">,</span> <span class="mf">0.01</span><span class="p">,</span> <span class="mi">16</span>
a<span class="n">_</span>	<span class="nb">oscili</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.25</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mf">0.25</span>
a<span class="n">del</span>	<span class="o">=</span>  a<span class="n">del</span> <span class="o">+</span> <span class="mf">1.0</span> <span class="o">/</span> <span class="p">(</span><span class="nb">exp</span><span class="p">(</span><span class="nb">log</span><span class="p">(</span><span class="mf">2.0</span><span class="p">)</span> <span class="o">*</span> a<span class="n">_</span><span class="p">)</span> <span class="o">*</span> <span class="mi">8000</span><span class="p">)</span>
a<span class="n">02</span>	<span class="nb">vdelayx</span> a<span class="n">0</span><span class="p">,</span> a<span class="n">del</span><span class="p">,</span> <span class="mf">0.01</span><span class="p">,</span> <span class="mi">16</span>
a<span class="n">0</span>	<span class="o">=</span>  a<span class="n">01</span> <span class="o">+</span> a<span class="n">02</span>

ga<span class="n">02</span>	<span class="o">=</span>  ga<span class="n">02</span> <span class="o">+</span> a<span class="n">0</span> <span class="o">*</span> a<span class="n">env</span> <span class="o">*</span> <span class="mi">2500</span>


	<span class="kd">endin</span>

<span class="cm">/* output / left */</span>

	<span class="kd">instr</span> <span class="nf">81</span>

i<span class="n">1</span>	<span class="o">=</span>  <span class="mf">0.000001</span>
a<span class="n">Ll</span><span class="p">,</span> a<span class="n">Lh</span><span class="p">,</span> a<span class="n">Rl</span><span class="p">,</span> a<span class="n">Rh</span>	<span class="nb">spat3di</span> ga<span class="n">01</span> <span class="o">+</span> i<span class="n">1</span><span class="o">*</span>i<span class="n">1</span><span class="o">*</span>i<span class="n">1</span><span class="o">*</span>i<span class="n">1</span><span class="p">,</span> <span class="o">-</span><span class="mf">8.0</span><span class="p">,</span> <span class="mf">4.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">4</span>
ga<span class="n">01</span>	<span class="o">=</span>  <span class="mi">0</span>
a<span class="n">Ll</span>	<span class="nb">butterlp</span> a<span class="n">Ll</span><span class="p">,</span> <span class="mf">800.0</span>
a<span class="n">Rl</span>	<span class="nb">butterlp</span> a<span class="n">Rl</span><span class="p">,</span> <span class="mf">800.0</span>

	<span class="nb">outs</span> a<span class="n">Ll</span> <span class="o">+</span> a<span class="n">Lh</span><span class="p">,</span> a<span class="n">Rl</span> <span class="o">+</span> a<span class="n">Rh</span>

	<span class="kd">endin</span>

<span class="cm">/* output / right */</span>

	<span class="kd">instr</span> <span class="nf">82</span>

i<span class="n">1</span>	<span class="o">=</span>  <span class="mf">0.000001</span>
a<span class="n">Ll</span><span class="p">,</span> a<span class="n">Lh</span><span class="p">,</span> a<span class="n">Rl</span><span class="p">,</span> a<span class="n">Rh</span>	<span class="nb">spat3di</span> ga<span class="n">02</span> <span class="o">+</span> i<span class="n">1</span><span class="o">*</span>i<span class="n">1</span><span class="o">*</span>i<span class="n">1</span><span class="o">*</span>i<span class="n">1</span><span class="p">,</span> <span class="mf">8.0</span><span class="p">,</span> <span class="mf">4.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">4</span>
ga<span class="n">02</span>	<span class="o">=</span>  <span class="mi">0</span>
a<span class="n">Ll</span>	<span class="nb">butterlp</span> a<span class="n">Ll</span><span class="p">,</span> <span class="mf">800.0</span>
a<span class="n">Rl</span>	<span class="nb">butterlp</span> a<span class="n">Rl</span><span class="p">,</span> <span class="mf">800.0</span>

	<span class="nb">outs</span> a<span class="n">Ll</span> <span class="o">+</span> a<span class="n">Lh</span><span class="p">,</span> a<span class="n">Rl</span> <span class="o">+</span> a<span class="n">Rh</span>

	<span class="kd">endin</span>


<span class="nt">&lt;/CsInstruments&gt;</span>
<span class="nt">&lt;CsScore&gt;</span>

<span class="cm">/* Written by Istvan Varga */</span>
<span class="nb">t</span> <span class="mi">0</span> <span class="mi">60</span>

<span class="nb">i</span> <span class="mi">1</span> <span class="mi">0</span> <span class="mi">4</span> <span class="mi">41</span>
<span class="nb">i</span> <span class="mi">1</span> <span class="mi">0</span> <span class="mi">4</span> <span class="mi">60</span>
<span class="nb">i</span> <span class="mi">1</span> <span class="mi">0</span> <span class="mi">4</span> <span class="mi">65</span>
<span class="nb">i</span> <span class="mi">1</span> <span class="mi">0</span> <span class="mi">4</span> <span class="mi">69</span>

<span class="nb">i</span> <span class="mi">81</span> <span class="mi">0</span> <span class="mf">5.5</span>
<span class="nb">i</span> <span class="mi">82</span> <span class="mi">0</span> <span class="mf">5.5</span>
<span class="nb">e</span>


<span class="nt">&lt;/CsScore&gt;</span>
<span class="nt">&lt;/CsoundSynthesizer&gt;</span>
</pre>
            </div>
          </div>
        </div>
        <p><br class="example-break" />
    </p>
      </div>
      <div class="refsect1">
        <a id="idm45499724278896"></a>
        <h2>Crédits</h2>
        <p>
      </p>
        <table border="0" summary="Simple list" class="simplelist">
          <tr>
            <td>Auteur : Istvan Varga</td>
          </tr>
          <tr>
            <td>2001</td>
          </tr>
        </table>
        <p>
    </p>
        <p>Nouveau dans la version 4.15</p>
        <p>Mis à jour en avril 2002 par Istvan Varga</p>
      </div>
    </div>
    <div class="navfooter">
      <hr />
      <table width="100%" summary="Navigation footer">
        <tr>
          <td width="40%" align="left"><a accesskey="p" href="opcode.html">Précédent</a> </td>
          <td width="20%" align="center">
            <a accesskey="u" href="OpcodesTop.html">Niveau supérieur</a>
          </td>
          <td width="40%" align="right"> <a accesskey="n" href="oscil1.html">Suivant</a></td>
        </tr>
        <tr>
          <td width="40%" align="left" valign="top">opcode </td>
          <td width="20%" align="center">
            <a accesskey="h" href="index.html">Sommaire</a>
          </td>
          <td width="40%" align="right" valign="top"> oscil1</td>
        </tr>
      </table>
    </div>
  </body>
</html>
