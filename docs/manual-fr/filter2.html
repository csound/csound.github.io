<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>filter2</title>
    <link rel="stylesheet" type="text/css" href="csound.css" />
    <link rel="stylesheet" type="text/css" href="syntax-highlighting.css" />
    <meta name="generator" content="DocBook XSL Stylesheets V1.79.1" />
    <link rel="home" href="index.html" title="Manuel de référence canonique de Csound" />
    <link rel="up" href="OpcodesTop.html" title="Opcodes et opérateurs de l'orchestre" />
    <link rel="prev" href="fft.html" title="fft" />
    <link rel="next" href="fin.html" title="fin" />
  </head>
  <body>
    <div class="navheader">
      <table width="100%" summary="Navigation header">
        <tr>
          <th colspan="3" align="center">filter2</th>
        </tr>
        <tr>
          <td width="20%" align="left"><a accesskey="p" href="fft.html">Précédent</a> </td>
          <th width="60%" align="center">Opcodes et opérateurs de l'orchestre</th>
          <td width="20%" align="right"> <a accesskey="n" href="fin.html">Suivant</a></td>
        </tr>
      </table>
      <hr />
    </div>
    <div class="refentry">
      <a id="filter2"></a>
      <div class="titlepage"></div>
      <a id="IndexFilter2" class="indexterm"></a>
      <div class="refnamediv">
        <h2>
          <span class="refentrytitle">filter2</span>
        </h2>
        <p>filter2 — 
      Réalise un filtrage au moyen d'un bloc de filtre numérique de forme
      transposée II sans contrôle variable.
    </p>
      </div>
      <div class="refsect1">
        <a id="idm45724095929024"></a>
        <h2>Description</h2>
        <p>
      Filtre configurable à usage général sans contrôle variable des pôles. Les
      coefficients du filtre implémentent l'équation aux différences suivante :
      </p>
        <div class="literallayout">
          <p><br />
(1)*y(n) = b0*x[n] + b1*x[n-1] +...+ bM*x[n-M] - a1*y[n-1] -...- aN*y[n-N]</p>
        </div>
        <p>
    </p>
        <p>
      dont la fonction de transfert est représentée par :
      </p>
        <div class="literallayout">
          <p><br />
           B(Z)      b0 + b1*Z<sup>-1</sup>  + ... + bM*Z<sup>-M</sup><br />
  H(Z)  =  ----  =  --------------------------<br />
           A(Z)       1 + a1*Z<sup>-1</sup>  + ... + aN*Z<sup>-N</sup></p>
        </div>
        <p>
    </p>
      </div>
      <div class="refsect1">
        <a id="idm45724095860304"></a>
        <h2>Syntaxe</h2>
        <pre class="synopsis">ares <span class="command"><strong>filter2</strong></span> asig, iM, iN, ib0, ib1, ..., ibM, ia1, ia2, ..., iaN</pre>
        <pre class="synopsis">kres <span class="command"><strong>filter2</strong></span> ksig, iM, iN, ib0, ib1, ..., ibM, ia1, ia2, ..., iaN</pre>
      </div>
      <div class="refsect1">
        <a id="idm45724095856624"></a>
        <h2>Initialisation</h2>
        <p>
      A l'initialisation, les nombres de zéros et de pôles du filtres sont spécifiés
      ainsi que leurs valeurs. Les coefficients doivent être obtenus par une
      application externe de conception de filtre telle que Matlab et sont
      spécifiés directement ou bien chargés dans une table via
      <a class="link" href="GEN01.html" title="GEN01"><em class="citetitle">GEN01</em></a>.
    </p>
      </div>
      <div class="refsect1">
        <a id="idm45724095853840"></a>
        <h2>Exécution</h2>
        <p>
      L'opcode <span class="emphasis"><em> filter2</em></span> réalise un filtrage au moyen d'un
      bloc de filtre numérique de forme transposée II sans contrôle variable.
    </p>
        <p>
      Comme <span class="emphasis"><em>filter2</em></span> implémente des filtres récursifs
      généralisés, on peut l'utiliser pour définir une grande variété d'algorithmes
      généraux de traitement numérique du signal. Par exemple, on peut implémenter
      un guide d'onde numérique pour modéliser un instrument de musique au moyen
      d'une paire d'opcodes <a class="link" href="delayr.html" title="delayr"><em class="citetitle">delayr</em></a>
      et <a class="link" href="delayw.html" title="delayw"><em class="citetitle">delayw</em></a> conjointement
      à l'opcode <span class="emphasis"><em>filter2</em></span>.
    </p>
      </div>
      <div class="refsect1">
        <a id="idm45724095848080"></a>
        <h2>Exemples</h2>
        <p>
      Un filtre passe-bas RIF du premier ordre à phase linéaire opérant sur un
      signal de taux-k :

      </p>
        <div class="informalexample">
          <pre class="programlisting">
k1 <span class="opc">filter2</span> ksig, 2, 0, 0.5, 0.5   <span class="comment">;; filtre RIF de taux-k</span></pre>
        </div>
        <p>
    </p>
        <p>
      Voici un autre exemple de l'opcode filter2. Il utilise le fichier
      <a class="ulink" href="examples/filter2.csd" target="_top"><em class="citetitle">filter2.csd</em></a>.
      </p>
        <div class="example">
          <a id="idm45724095843248"></a>
          <p class="title">
            <strong>Exemple 277. Exemple de l'opcode filter2.</strong>
          </p>
          <div class="example-contents">
            <p>Voir les sections <a class="link" href="UsingRealTime.html" title="Audio en temps réel"><em class="citetitle">Audio en Temps Réel</em></a>
        et <a class="link" href="CommandFlags.html" title="Ligne de commande de Csound"><em class="citetitle">Options de la Ligne de Commande</em></a> pour plus
        d'information sur l'utilisation des options de la ligne de commande.</p>
            <div class="refsect1">
              <a id="idm45723924422432"></a>
              <pre class="programlisting">
<span class="nt">&lt;CsoundSynthesizer&gt;</span>
<span class="nt">&lt;CsOptions&gt;</span>
<span class="c1">; Select audio/midi flags here according to platform</span>
-odac   <span class="c1">;;;realtime audio out</span>
<span class="c1">;-iadc    ;;;uncomment -iadc if realtime audio input is needed too</span>
<span class="c1">; For Non-realtime ouput leave only the line below:</span>
<span class="c1">; -o filter2.wav -W ;;; for file output any platform</span>
<span class="nt">&lt;/CsOptions&gt;</span>
<span class="nt">&lt;CsInstruments&gt;</span>

<span class="vg">sr</span> <span class="o">=</span> <span class="mi">44100</span>
<span class="vg">ksmps</span> <span class="o">=</span> <span class="mi">32</span>
<span class="vg">nchnls</span> <span class="o">=</span> <span class="mi">2</span>
<span class="vg">0dbfs</span>  <span class="o">=</span> <span class="mi">1</span>

<span class="kd">instr</span> <span class="nf">1</span>	 <span class="c1">; 2 saw waves of which one is slightly detuned</span>
 
i<span class="n">b1</span>   <span class="o">=</span> <span class="nb">p5</span>  
i<span class="n">vol</span>  <span class="o">=</span> <span class="nb">p6</span>				<span class="c1">;volume to compensate                                               </span>
k<span class="n">cps</span>  <span class="nb">init</span> <span class="nb">cpspch</span><span class="p">(</span><span class="nb">p4</span><span class="p">)</span>
a<span class="n">sig1</span> <span class="nb">vco2</span> <span class="mf">.05</span><span class="p">,</span> k<span class="n">cps</span>			<span class="c1">;saw 1</span>
a<span class="n">saw1</span> <span class="nb">filter2</span> a<span class="n">sig1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> i<span class="n">b1</span>	<span class="c1">;filter 1 </span>
a<span class="n">sig2</span> <span class="nb">vco2</span> <span class="mf">.05</span><span class="p">,</span> k<span class="n">cps</span><span class="o">+</span><span class="mi">1</span>			<span class="c1">;saw 2                      </span>
a<span class="n">saw2</span> <span class="nb">filter2</span> a<span class="n">sig2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> i<span class="n">b1</span>	<span class="c1">;filter 2</span>
a<span class="n">out</span>  <span class="o">=</span> <span class="p">(</span>a<span class="n">saw1</span><span class="o">+</span>a<span class="n">saw2</span><span class="p">)</span><span class="o">*</span>i<span class="n">vol</span>		<span class="c1">;mix</span>
      <span class="nb">outs</span> a<span class="n">out</span><span class="p">,</span> a<span class="n">out</span>

<span class="kd">endin</span>
<span class="nt">&lt;/CsInstruments&gt;</span>
<span class="nt">&lt;CsScore&gt;</span>

<span class="nb">i</span> <span class="mi">1</span> <span class="mi">0</span> <span class="mi">4</span> <span class="mf">6.00</span> <span class="o">-</span><span class="mf">.001</span> <span class="mi">5</span>	<span class="c1">;different filter values</span>
<span class="nb">i</span> <span class="mi">1</span> <span class="o">+</span> <span class="mi">4</span> <span class="mf">6.00</span> <span class="o">-</span><span class="mf">.6</span>   <span class="mi">2</span>	<span class="c1">;and different volumes</span>
<span class="nb">i</span> <span class="mi">1</span> <span class="o">+</span> <span class="mi">4</span> <span class="mf">6.00</span> <span class="o">-</span><span class="mf">.95</span> <span class="mf">.3</span>	<span class="c1">;to compensate</span>
<span class="nb">e</span>
<span class="nt">&lt;/CsScore&gt;</span>
<span class="nt">&lt;/CsoundSynthesizer&gt;</span>
</pre>
            </div>
          </div>
        </div>
        <p><br class="example-break" />
    </p>
      </div>
      <div class="refsect1">
        <a id="idm45724095838880"></a>
        <h2>Voir aussi</h2>
        <p>
      <a class="link" href="zfilter2.html" title="zfilter2"><em class="citetitle">zfilter2</em></a>
    </p>
      </div>
      <div class="refsect1">
        <a id="idm45724095836832"></a>
        <h2>Crédits</h2>
        <p>
      </p>
        <table border="0" summary="Simple list" class="simplelist">
          <tr>
            <td>Auteur : Michael A. Casey</td>
          </tr>
          <tr>
            <td>M.I.T.</td>
          </tr>
          <tr>
            <td>Cambridge, Mass.</td>
          </tr>
          <tr>
            <td>1997</td>
          </tr>
        </table>
        <p>
    </p>
        <p>Nouveau dans la version 3.47</p>
      </div>
    </div>
    <div class="navfooter">
      <hr />
      <table width="100%" summary="Navigation footer">
        <tr>
          <td width="40%" align="left"><a accesskey="p" href="fft.html">Précédent</a> </td>
          <td width="20%" align="center">
            <a accesskey="u" href="OpcodesTop.html">Niveau supérieur</a>
          </td>
          <td width="40%" align="right"> <a accesskey="n" href="fin.html">Suivant</a></td>
        </tr>
        <tr>
          <td width="40%" align="left" valign="top">fft </td>
          <td width="20%" align="center">
            <a accesskey="h" href="index.html">Sommaire</a>
          </td>
          <td width="40%" align="right" valign="top"> fin</td>
        </tr>
      </table>
    </div>
  </body>
</html>
