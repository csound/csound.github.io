<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>sr</title>
    <link rel="stylesheet" type="text/css" href="csound.css" />
    <link rel="stylesheet" type="text/css" href="syntax-highlighting.css" />
    <meta name="generator" content="DocBook XSL Stylesheets V1.79.1" />
    <link rel="home" href="index.html" title="Manuel de référence canonique de Csound" />
    <link rel="up" href="OpcodesTop.html" title="Opcodes et opérateurs de l'orchestre" />
    <link rel="prev" href="squinewave.html" title="squinewave" />
    <link rel="next" href="statevar.html" title="statevar" />
  </head>
  <body>
    <div class="navheader">
      <table width="100%" summary="Navigation header">
        <tr>
          <th colspan="3" align="center">sr</th>
        </tr>
        <tr>
          <td width="20%" align="left"><a accesskey="p" href="squinewave.html">Précédent</a> </td>
          <th width="60%" align="center">Opcodes et opérateurs de l'orchestre</th>
          <td width="20%" align="right"> <a accesskey="n" href="statevar.html">Suivant</a></td>
        </tr>
      </table>
      <hr />
    </div>
    <div class="refentry">
      <a id="sr"></a>
      <div class="titlepage"></div>
      <a id="IndexSr" class="indexterm"></a>
      <div class="refnamediv">
        <h2>
          <span class="refentrytitle">sr</span>
        </h2>
        <p>sr — 
      Fixe la taux d'échantillonnage audio.
    </p>
      </div>
      <div class="refsect1">
        <a id="idm46197548532592"></a>
        <h2>Description</h2>
        <p>
      Ces instructions sont des <a class="link" href="assign.html" title="="><em class="citetitle">affectations</em></a> de
      valeurs globales réalisées au début d'un orchestre, avant que tout bloc d'instrument ne soit
      défini. Leur fonction est de fixer certaines
      <a class="link" href="OrchKvar.html#VariableTypes" title="Tableau 3. Types de variables"><em class="citetitle">variables</em></a> dont le nom est un mot réservé
      et qui sont nécessaires à l'exécution. Une fois fixés, ces mots réservés peuvent être utilisés dans
      des expressions n'importe où dans l'orchestre.
    </p>
      </div>
      <div class="refsect1">
        <a id="idm46197548528896"></a>
        <h2>Syntaxe</h2>
        <pre class="synopsis"><span class="command"><strong>sr</strong></span> = iarg</pre>
      </div>
      <div class="refsect1">
        <a id="idm46197548526880"></a>
        <h2>Initialisation</h2>
        <p>
      <span class="emphasis"><em>sr</em></span>  = (facultatif) -- fixe le taux d'échantillonnage à <span class="emphasis"><em>iarg</em></span>
      échantillons par seconde par canal. La valeur par défaut est 44100.
    </p>
        <p>
      De plus, toute <a class="link" href="OrchKvar.html#GlobalVariables"><em class="citetitle">variable globale</em></a> peut
      être initialisée par une <span class="emphasis"><em>instruction de la période d'initialisation</em></span> n'importe
      où avant la première <a class="link" href="instr.html" title="instr"><em class="citetitle">instruction instr</em></a>. Toutes
      les affectations ci-dessus sont exécutées dans l'instrument 0 (passe-i seulement) au début de
      l'exécution réelle.
    </p>
        <p>
      Depuis la version 3.46 de Csound, on peut omettre <span class="emphasis"><em>sr</em></span>. Le taux d'échantillonnage
      sera calculé à partir de <a class="link" href="kr.html" title="kr"><em class="citetitle">kr</em></a> et de
      <a class="link" href="ksmps.html" title="ksmps"><em class="citetitle">ksmps</em></a>, mais le résultat doit être une valeur
      entière. Si aucune de ces valeurs globales n'est définie, le taux d'échantillonnage par défaut sera
      44100. Habituellement, vous utiliserez une valeur supportée par votre carte son, comme 44100 ou
      48000, sinon, le résultat audio généré par csound risque d'être injouable, ou bien vous aurez une
      erreur si vous essayez une exécution en . Vous pouvez naturellement utiliser un taux
      d'échantillonnage comme 96000, pour un rendu différé, même si votre carte son ne le supporte pas.
      Csound générera un fichier valide jouable sur des systèmes offrant cette possibilité.
    </p>
      </div>
      <div class="refsect1">
        <a id="idm46197548517232"></a>
        <h2>Exemples</h2>
        <p>
      </p>
        <div class="informalexample">
          <pre class="programlisting">
<span class="ohdr">sr</span> <span class="op">=</span> 10000
<span class="ohdr">kr</span> <span class="op">=</span> 500
<span class="ohdr">ksmps</span> <span class="op">=</span> 20
gi1 <span class="op">=</span> <span class="ohdr">sr</span><span class="op">/</span>2.
ga <span class="opc">init</span> 0
itranspose <span class="op">=</span> <span class="opc">octpch</span>(.0l)</pre>
        </div>
        <p>
    </p>
        <p>
      Voici un autre exemple de l'opcode sr. Il utilise le fichier
      <a class="ulink" href="examples/sr.csd" target="_top"><em class="citetitle">sr.csd</em></a>.
      </p>
        <div class="example">
          <a id="idm46197548506160"></a>
          <p class="title">
            <strong>Exemple 921. Exemple de l'opcode sr.</strong>
          </p>
          <div class="example-contents">
            <p>Voir les sections <a class="link" href="UsingRealTime.html" title="Audio en temps réel"><em class="citetitle">Audio en Temps Réel</em></a>
        et <a class="link" href="CommandFlags.html" title="Ligne de commande de Csound"><em class="citetitle">Options de la Ligne de Commande</em></a> pour plus
        d'information sur l'utilisation des options de la ligne de commande.</p>
            <div class="refsect1">
              <a id="idm46197369606576"></a>
              <pre class="programlisting">
<span class="nt">&lt;CsoundSynthesizer&gt;</span>
<span class="nt">&lt;CsOptions&gt;</span>
<span class="c1">; Select audio/midi flags here according to platform</span>
-odac  <span class="c1">;;;realtime audio out</span>
<span class="c1">; -iadc    ;;;uncomment -iadc if real audio input is needed too</span>
<span class="c1">; For Non-realtime ouput leave only the line below:</span>
<span class="c1">; -o sr.wav -W ;;; for file output any platform</span>
<span class="nt">&lt;/CsOptions&gt;</span>
<span class="nt">&lt;CsInstruments&gt;</span>

<span class="vg">sr</span> <span class="o">=</span> <span class="mi">44100</span>
<span class="vg">ksmps</span> <span class="o">=</span> <span class="mi">32</span>
<span class="vg">nchnls</span> <span class="o">=</span> <span class="mi">2</span>
<span class="vg">0dbfs</span>  <span class="o">=</span> <span class="mi">1</span>

<span class="kd">instr</span> <span class="nf">1</span>	<span class="c1">;use sr to find maximum harmonics</span>

i<span class="n">har</span>	<span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="vg">sr</span><span class="o">/</span><span class="mi">2</span><span class="o">/</span><span class="nb">p4</span><span class="p">)</span>		<span class="c1">; maximum possible number of harmonics w/o aliasing</span>
<span class="nb">prints</span>  <span class="s">"maximum number of harmonics = </span><span class="si">%d</span><span class="s"> </span><span class="se">\\</span><span class="s">n"</span><span class="p">,</span> i<span class="n">har</span>
k<span class="n">env</span>	<span class="nb">linen</span> <span class="mf">.5</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="nb">p3</span><span class="p">,</span> <span class="mf">.2</span>	<span class="c1">; envelope</span>
a<span class="n">sig</span>	<span class="nb">buzz</span>  k<span class="n">env</span><span class="p">,</span> <span class="nb">p4</span><span class="p">,</span> i<span class="n">har</span><span class="p">,</span> <span class="mi">1</span>
	<span class="nb">outs</span>  a<span class="n">sig</span><span class="p">,</span> a<span class="n">sig</span>

<span class="kd">endin</span>
<span class="nt">&lt;/CsInstruments&gt;</span>
<span class="nt">&lt;CsScore&gt;</span>
<span class="nb">f</span><span class="mi">1</span> <span class="mi">0</span> <span class="mi">4096</span> <span class="mi">10</span> <span class="mi">1</span>	<span class="c1">;sine wave</span>

<span class="nb">i</span> <span class="mi">1</span> <span class="mi">0</span> <span class="mi">3</span> <span class="mi">100</span>	<span class="c1">;different frequencies</span>
<span class="nb">i</span> <span class="mi">1</span> <span class="o">+</span> <span class="mi">3</span> <span class="mi">1000</span>
<span class="nb">i</span> <span class="mi">1</span> <span class="o">+</span> <span class="mi">3</span> <span class="mi">10000</span>
<span class="nb">e</span>
<span class="nt">&lt;/CsScore&gt;</span>
<span class="nt">&lt;/CsoundSynthesizer&gt;</span>
</pre>
            </div>
          </div>
        </div>
        <p><br class="example-break" />
      Sa sortie contiendra des lignes comme celles-ci :
      </p>
        <pre class="screen">
maximum number of harmonics = 240 
maximum number of harmonics = 24 
maximum number of harmonics = 2</pre>
        <p>
    </p>
      </div>
      <div class="refsect1">
        <a id="idm46197548501040"></a>
        <h2>Voir aussi</h2>
        <p>
      <a class="link" href="kr.html" title="kr"><em class="citetitle">kr</em></a>,
      <a class="link" href="ksmps.html" title="ksmps"><em class="citetitle">ksmps</em></a>,
      <a class="link" href="nchnls.html" title="nchnls"><em class="citetitle">nchnls</em></a>,
      <a class="link" href="nchnls_i.html" title="nchnls_i"><em class="citetitle">nchnls_i</em></a>.
    </p>
      </div>
    </div>
    <div class="navfooter">
      <hr />
      <table width="100%" summary="Navigation footer">
        <tr>
          <td width="40%" align="left"><a accesskey="p" href="squinewave.html">Précédent</a> </td>
          <td width="20%" align="center">
            <a accesskey="u" href="OpcodesTop.html">Niveau supérieur</a>
          </td>
          <td width="40%" align="right"> <a accesskey="n" href="statevar.html">Suivant</a></td>
        </tr>
        <tr>
          <td width="40%" align="left" valign="top">squinewave </td>
          <td width="20%" align="center">
            <a accesskey="h" href="index.html">Sommaire</a>
          </td>
          <td width="40%" align="right" valign="top"> statevar</td>
        </tr>
      </table>
    </div>
  </body>
</html>
