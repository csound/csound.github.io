<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>hrtfer</title>
    <link rel="stylesheet" type="text/css" href="csound.css" />
    <link rel="stylesheet" type="text/css" href="syntax-highlighting.css" />
    <meta name="generator" content="DocBook XSL Stylesheets Vsnapshot" />
    <link rel="home" href="index.html" title="Manuel de référence canonique de Csound" />
    <link rel="up" href="DeprecatedTop.html" title="Opcodes de l'orchestre et routines GEN obsolètes" />
    <link rel="prev" href="fin.html" title="fin" />
    <link rel="next" href="ibetarand.html" title="ibetarand" />
  </head>
  <body>
    <div class="navheader">
      <table width="100%" summary="Navigation header">
        <tr>
          <th colspan="3" align="center">hrtfer</th>
        </tr>
        <tr>
          <td width="20%" align="left"><a accesskey="p" href="fin.html">Précédent</a> </td>
          <th width="60%" align="center">Opcodes de l'orchestre et routines GEN obsolètes</th>
          <td width="20%" align="right"> <a accesskey="n" href="ibetarand.html">Suivant</a></td>
        </tr>
      </table>
      <hr />
    </div>
    <div class="refentry">
      <a id="hrtfer"></a>
      <div class="titlepage"></div>
      <a id="IndexHrtfer" class="indexterm"></a>
      <div class="refnamediv">
        <h2>
          <span class="refentrytitle">hrtfer</span>
        </h2>
        <p>hrtfer — 
      Crée de l'audio 3D pour deux haut-parleurs.
    </p>
      </div>
      <div class="refsect1">
        <a id="idm428286"></a>
        <h2>Description</h2>
        <p>
      La sortie audio en 3D est binaurale (casque stéréo).
    </p>
        <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
          <table border="0" summary="Note">
            <tr>
              <td rowspan="2" align="center" valign="top" width="25">
                <img alt="[Note]" src="images/note.png" />
              </td>
              <th align="left">Note</th>
            </tr>
            <tr>
              <td align="left" valign="top">Cet opcode est obsolète ; utiliser plutôt <span class="emphasis"><em>hrtfstat</em></span>
    ou un opcode similaire.</td>
            </tr>
          </table>
        </div>
      </div>
      <div class="refsect1">
        <a id="idm428291"></a>
        <h2>Syntaxe</h2>
        <pre class="synopsis">aleft, aright <span class="command"><strong>hrtfer</strong></span> asig, kaz, kelev, <span class="quote">« <span class="quote">HRTFcompact</span> »</span></pre>
      </div>
      <div class="refsect1">
        <a id="idm428296"></a>
        <h2>Initialisation</h2>
        <p>
      <span class="emphasis"><em>kAz</em></span> -- valeur d'azimut en degrés. Les valeurs positives
      représentent les positions à droite, les valeurs négatives les positions à
      gauche.
    </p>
        <p>
      <span class="emphasis"><em>kElev</em></span> -- valeur d'élévation en degrés. Les valeurs
      positives représentent les positions au-dessus de l'horizontale, les
      valeurs négatives les positions sous l'horizontale.
    </p>
        <p>
      Actuellement, le seul fichier qui peut être utilisé avec <span class="emphasis"><em>hrtfer</em></span>
      est <a class="ulink" href="examples/HRTFcompact" target="_top"><em class="citetitle">HRTFcompact</em></a>.
      Il doit être passé à l'opcode en dernier argument entre guillements comme
      ci-dessus.
    </p>
        <p>
      On peut aussi obtenir HRTFcompact par ftp anonyme depuis :
      <a class="ulink" href="ftp://ftp.cs.bath.ac.uk/pub/dream/utilities/Analysis/HRTFcompact" target="_top"><em class="citetitle">ftp://ftp.cs.bath.ac.uk/pub/dream/utilities/Analysis/HRTFcompact</em></a>
    </p>
      </div>
      <div class="refsect1">
        <a id="idm428309"></a>
        <h2>Exécution</h2>
        <p>
      Ces générateurs unitaires placent un signal d'entrée mono dans un espace 3D
      virtuel autour de l'auditeur en faisant une convolution entre l'entrée et les
      données HRTF appropriées spécifiées par les valeurs d'azimut et d'élévation de
      l'opcode. <span class="emphasis"><em>hrtfer</em></span> accepte que ces valeurs soient de taux-k,
      ce qui permet une spatialisation dynamique. <span class="emphasis"><em>hrtfer</em></span> ne peut
      placer l'entrée qu'à la position demandée car le HRTF est chargé à l'initialisation
      (souvenez-vous qu'actuellement Csound limite à 20 le nombre de fichiers qu'il
      peut garder en mémoire sans causer d'erreur de segmentation). Il faut ajuster
      la sortie soit en utilisant
      <a class="link" href="balance.html" title="balance"><em class="citetitle">balance</em></a> soit en la
      multipliant par une constante de mise à l'échelle.
    </p>
        <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
          <table border="0" summary="Note: Note">
            <tr>
              <td rowspan="2" align="center" valign="top" width="25">
                <img alt="[Note]" src="images/note.png" />
              </td>
              <th align="left">Note</th>
            </tr>
            <tr>
              <td align="left" valign="top">
                <p>
        Le taux d'échantillonnage de l'orchestre doit être de 44.1 kHz. C'est le
        taux auquel les HRTFs ont été mesurés. Si l'on veut utiliser les HRTFs à
        un taux différent, il faut les rééchantillonner au taux désiré.
      </p>
              </td>
            </tr>
          </table>
        </div>
      </div>
      <div class="refsect1">
        <a id="idm428319"></a>
        <h2>Exemples</h2>
        <p>
      Voici un exemple de l'opcode hrtfer. Il utilise les fichiers
      <a class="ulink" href="examples/hrtfer.csd" target="_top"><em class="citetitle">hrtfer.csd</em></a>,
      <a class="ulink" href="examples/HRTFcompact" target="_top"><em class="citetitle">HRTFcompact</em></a>
      et <a class="ulink" href="examples/beats.wav" target="_top"><em class="citetitle">beats.wav</em></a>.
      </p>
        <div class="example">
          <a id="idm428328"></a>
          <p class="title">
            <strong>Exemple 1330. Exemple de l'opcode hrtfer.</strong>
          </p>
          <div class="example-contents">
            <p>Voir les sections <a class="link" href="UsingRealTime.html" title="Audio en temps réel"><em class="citetitle">Audio en Temps Réel</em></a>
      et <a class="link" href="CommandFlags.html" title="Ligne de commande de Csound"><em class="citetitle">Options de la Ligne de Commande</em></a> pour plus
      d'information sur l'utilisation des options de la ligne de commande.</p>
            <div class="refsect1">
              <a id="idm428335"></a>
              <pre class="programlisting">
<span class="nt">&lt;CsoundSynthesizer&gt;</span>
<span class="nt">&lt;CsOptions&gt;</span>
<span class="c1">; Select audio/midi flags here according to platform</span>
<span class="c1">; Audio out   Audio in    No messages</span>
-odac           -iadc     -d     <span class="c1">;;;RT audio I/O</span>
<span class="c1">; For Non-realtime ouput leave only the line below:</span>
<span class="c1">; -o hrtfer.wav -W ;;; for file output any platform</span>
<span class="nt">&lt;/CsOptions&gt;</span>
<span class="nt">&lt;CsInstruments&gt;</span><span class="w">

</span><span class="c1">; Initialize the global variables.</span><span class="w">
</span><span class="vg">sr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">44100</span><span class="w">
</span><span class="vg">kr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">4410</span><span class="w">
</span><span class="vg">ksmps</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">10</span><span class="w">
</span><span class="vg">nchnls</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="w">

</span><span class="kd">instr</span><span class="w"> </span><span class="nf">1</span><span class="w">
  </span>k<span class="n">az</span><span class="w">          </span><span class="nb">linseg</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="vi">p3</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="mi">360</span><span class="w">  </span><span class="c1">; move the sound in circle</span><span class="w">
  </span>k<span class="n">el</span><span class="w">          </span><span class="nb">linseg</span><span class="w"> </span><span class="o">-</span><span class="mi">40</span><span class="p">,</span><span class="w"> </span><span class="vi">p3</span><span class="p">,</span><span class="w"> </span><span class="mi">45</span><span class="w">  </span><span class="c1">; around the listener, changing</span><span class="w">
                                    </span><span class="c1">; elevation as its turning</span><span class="w">
  </span>a<span class="n">src</span><span class="w">         </span><span class="nb">soundin</span><span class="w"> </span><span class="s">"beats.wav"</span><span class="w">
  </span>a<span class="n">left</span><span class="p">,</span>a<span class="n">right</span><span class="w"> </span><span class="nb">hrtfer</span><span class="w"> </span>a<span class="n">src</span><span class="p">,</span><span class="w"> </span>k<span class="n">az</span><span class="p">,</span><span class="w"> </span>k<span class="n">el</span><span class="p">,</span><span class="w"> </span><span class="s">"HRTFcompact"</span><span class="w">
  </span>a<span class="n">leftscale</span><span class="w">   </span><span class="o">=</span><span class="w"> </span>a<span class="n">left</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">200</span><span class="w">
  </span>a<span class="n">rightscale</span><span class="w">  </span><span class="o">=</span><span class="w"> </span>a<span class="n">right</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">200</span><span class="w">

  </span><span class="nb">outs</span><span class="w">         </span>a<span class="n">leftscale</span><span class="p">,</span><span class="w"> </span>a<span class="n">rightscale</span><span class="w">
</span><span class="kd">endin</span><span class="w">        


</span><span class="nt">&lt;/CsInstruments&gt;</span>
<span class="nt">&lt;CsScore&gt;</span><span class="w">

</span><span class="nb">i</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="mi">2</span><span class="w">
</span><span class="nb">e</span><span class="w">


</span><span class="nt">&lt;/CsScore&gt;</span>
<span class="nt">&lt;/CsoundSynthesizer&gt;</span>
</pre>
            </div>
          </div>
        </div>
        <p><br class="example-break" />
    </p>
      </div>
      <div class="refsect1">
        <a id="idm428476"></a>
        <h2>Voir aussi</h2>
        <p>
      <a class="link" href="hrtfmove.html" title="hrtfmove"><em class="citetitle">hrtfmove</em></a>,
      <a class="link" href="hrtfmove2.html" title="hrtfmove2"><em class="citetitle">hrtfmove2</em></a>,
      <a class="link" href="hrtfstat.html" title="hrtfstat"><em class="citetitle">hrtfstat</em></a>.
    </p>
      </div>
      <div class="refsect1">
        <a id="idm428485"></a>
        <h2>Crédits</h2>
        <p>
      </p>
        <table border="0" summary="Simple list" class="simplelist">
          <tr>
            <td>Auteurs : Eli Breder et David MacIntyre</td>
          </tr>
          <tr>
            <td>Montréal</td>
          </tr>
          <tr>
            <td>1996</td>
          </tr>
        </table>
        <p>
    </p>
        <p>Correction de l'exemple grâce à un message d'Istvan Varga.</p>
      </div>
    </div>
    <div class="navfooter">
      <hr />
      <table width="100%" summary="Navigation footer">
        <tr>
          <td width="40%" align="left"><a accesskey="p" href="fin.html">Précédent</a> </td>
          <td width="20%" align="center">
            <a accesskey="u" href="DeprecatedTop.html">Niveau supérieur</a>
          </td>
          <td width="40%" align="right"> <a accesskey="n" href="ibetarand.html">Suivant</a></td>
        </tr>
        <tr>
          <td width="40%" align="left" valign="top">fin </td>
          <td width="20%" align="center">
            <a accesskey="h" href="index.html">Sommaire</a>
          </td>
          <td width="40%" align="right" valign="top"> ibetarand</td>
        </tr>
      </table>
    </div>
  </body>
</html>
