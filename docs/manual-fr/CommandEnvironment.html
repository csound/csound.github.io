<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>Variables d'environnement de Csound</title>
    <link rel="stylesheet" type="text/css" href="csound.css" />
    <link rel="stylesheet" type="text/css" href="syntax-highlighting.css" />
    <meta name="generator" content="DocBook XSL Stylesheets V1.79.1" />
    <link rel="home" href="index.html" title="Manuel de référence canonique de Csound" />
    <link rel="up" href="CommandTop.html" title="La commande Csound" />
    <link rel="prev" href="CommandFlagsCategory.html" title="Options de ligne de commande (par catégorie)" />
    <link rel="next" href="CommandUnifile.html" title="Format de fichier unifié pour les orchestres et les partitions" />
  </head>
  <body>
    <div class="navheader">
      <table width="100%" summary="Navigation header">
        <tr>
          <th colspan="3" align="center">Variables d'environnement de Csound</th>
        </tr>
        <tr>
          <td width="20%" align="left"><a accesskey="p" href="CommandFlagsCategory.html">Précédent</a> </td>
          <th width="60%" align="center">La commande Csound</th>
          <td width="20%" align="right"> <a accesskey="n" href="CommandUnifile.html">Suivant</a></td>
        </tr>
      </table>
      <hr />
    </div>
    <div class="section">
      <div class="titlepage">
        <div>
          <div>
            <h2 class="title" style="clear: both"><a id="CommandEnvironment"></a>Variables d'environnement de Csound</h2>
          </div>
        </div>
      </div>
      <p>Csound peut utiliser les variables d'environnement suivantes :
  </p>
      <div class="itemizedlist">
        <ul class="itemizedlist" style="list-style-type: disc; ">
          <li class="listitem">SFDIR : Répertoire par défaut pour les fichiers son. Utilisé si aucun chemin complet n'est
      fourni pour les fichiers son.</li>
          <li class="listitem">SSDIR : Répertoire par défaut pour les fichiers audio et MIDI en entrée (source). Utilisé
      si aucun chemin complet n'est fourni pour les fichiers son. On peut l'utiliser conjointement avec SFDIR
      pour fixer des répertoire d'entrée et de sortie séparés. Prière de noter qu'aussi bien les fichiers MIDI
      que les fichiers audio sont recherchés aussi dans SSDIR.</li>
          <li class="listitem">SADIR : Répertoire par défaut pour les fichier d'analyse. Utilisé si aucun chemin complet
      n'est donné pour les fichiers d'analyse.</li>
          <li class="listitem">SFOUTYP : Fixe le type par défaut du fichier de sortie. Actuellement ne sont valides que
      'WAV', 'AIFF' et 'IRCAM'. Cette variable est testée par l'exécutable de csound et par les utilitaires et
      elle est utilisée si aucun type de fichier de sortie n'a été spécifié.</li>
          <li class="listitem">INCDIR : Répertoire des fichiers à inclure. Spécifie l'endroit où se trouvent les fichiers
      utilisés par les instructions
      <a class="link" href="include.html" title="#include"><em class="citetitle">#include</em></a>.</li>
          <li class="listitem">OPCODE6DIR : Définit l'endroit où se trouvent les greffons d'opcode en version simple
      précision (32 bit).</li>
          <li class="listitem">OPCODE6DIR64 : Définit l'endroit où se trouvent les greffons d'opcode en version double
      précision (64 bit).</li>
          <li class="listitem">SNAPDIR : Utilisée par les opcodes de contrôle graphique FLTK pour charger et sauvegarder les
      instantanés.</li>
          <li class="listitem">CSOUND6RC : Définit le fichier de ressource (ou de configuration) de csound. Un chemin
      complet avec le nom d'un fichier contenant des options de csound doit être donné. Cette variable vaut
      .csound6rc par défaut.</li>
          <li class="listitem">CSSTRNGS : A partir de Csound 5.00, la localisation des messages est contrôlée par les deux
      variables d'environnement CSSTRNGS et CS_LANG, qui sont toutes deux optionnelles. CSSTRNGS pointe vers un
      répertoire contenant des fichiers .xmg.</li>
          <li class="listitem">CS_LANG : Sélectionne une langue pour les messages de csound.</li>
          <li class="listitem">RAWWAVE_PATH : Utilisée par les opcodes STK pour trouver les fichiers son bruts. Ne
      sert que si vous utilisez des opcodes de sur-couche STK comme STKBowed ou STKBrass.</li>
          <li class="listitem">CSNOSTOP : Si cette variable d'environnement a pour valeur "yes", alors tous les affichages
      graphiques sont fermés à la fin de l'exécution (ce qui veut dire que vous n'en verrez peut-être pas grand
      chose dans le cas d'une exécution courte en temps différé). Dans le cas contraire, il faut cliquer sur
      "Quit" dans la fenêtre d'affichage FLTK pour sortir, ce qui permet de voir les graphiques même après que la
      fin de la partition soit atteinte.</li>
          <li class="listitem">MFDIR : Répertoire par défaut pour les fichiers MIDI. Utilisé si aucun chemin complet
      n'est donné pour les fichiers MIDI. Prière de noter que les fichiers MIDI sont également recherchés dans
      SSDIR et SFDIR.</li>
          <li class="listitem">CS_OMIT_LIBS : Permet de définir une liste de bibliothèques
      de greffons à ignorer. Les noms des bibliothèques peuvent être séparés par
      des virgules et le préfixe "lib" n'est pas nécessaire.</li>
        </ul>
      </div>
      <p>
  Pour plus d'information sur SFDIR, SSDIR, SADIR, MFDIR et INCDIR voir
  <a class="link" href="OrchDirFiles.html" title="Répertoires et fichiers"><em class="citetitle">Répertoires et Fichiers</em></a>.
  </p>
      <p>
    Les seules variables d'environnement obligatoires sont OPCODE6DIR et OPCODE6DIR64. Il est très important de
    les remplir correctement, sinon la plupart des opcodes ne seront pas disponibles. Assurez-vous de fixer
    le chemin correctement en fonction de la précision de votre exécutable. Si vous lancez csound en ligne
    de commande sans aucun argument vous devriez voir un texte ressemblant à : Csound version 6.03.1
    (double samples) May 10 2014. Ce texte fait référence à la version double précision.
  </p>
      <p>
    CSSTRNGS et CS_LANG sont actuellement peu utiles car Csound n'a pas encore été complètement traduit dans
    d'autres langues.</p>
      <p>
    Voici d'autres variables d'environnement qui ne sont pas propres à Csound mais qui peuvent être importantes :
  </p>
      <div class="itemizedlist">
        <ul class="itemizedlist" style="list-style-type: disc; ">
          <li class="listitem"><span class="emphasis"><em>PATH</em></span> : Le répertoire contenant les exécutables de csound devrait être
      listé dans cette variable.</li>
          <li class="listitem"><span class="emphasis"><em>LADSPA_PATH et DSSI_PATH</em></span> : Ces variables d'environnement sont
    nécessaires si vous utilisez les opcodes du greffon <span class="emphasis"><em>dssi4cs</em></span>
    (hôtes LADSPA et DSSI).</li>
          <li class="listitem"><span class="emphasis"><em>CSDOCDIR</em></span> : Spécifie le répertoire dans lequel se trouvent les
    fichiers d'aide html. Bien qu'elle ne soit pas utilisée directement par Csound, cette variable
    d'environnement peut aider les frontaux et les éditeurs (qui la mettent en œuvre) à trouver le
    manuel de csound.</li>
        </ul>
      </div>
      <p>
  </p>
      <div class="simplesect">
        <div class="titlepage">
          <div>
            <div>
              <h3 class="title"><a id="idm6691"></a>Fixer les variables d'environnement</h3>
            </div>
          </div>
        </div>
        <h4><a id="idm6693"></a>Sur la ligne de commande</h4>
        <p>On peut fixer les variables d'environnement sur la ligne de commande ou dans le fichier de
      configuration .csoundrc en utilisant l'option de ligne de commande --env:NOM=VALEUR ou --env:NOM+=VALEUR,
      où NOM est le nom de la variable d'environnement, et VALEUR est sa valeur. Voir
      <a class="link" href="CommandFlags.html" title="Ligne de commande de Csound"><em class="citetitle">Options de Ligne de Commande</em></a>.
    </p>
        <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
          <table border="0" summary="Note">
            <tr>
              <td rowspan="2" align="center" valign="top" width="25">
                <img alt="[Note]" src="images/note.png" />
              </td>
              <th align="left">Note</th>
            </tr>
            <tr>
              <td align="left" valign="top">
                <p>Prière de noter que cette méthode ne fonctionnera pas pour les variables d'environnement qui
      sont lues avant les arguments de la ligne de commande. Pour SADIR, SSDIR, SFDIR, INCDIR, SNAPDIR, RAWWAVE_PATH,
      CSNOSTOP, SFOUTYP cela devrait marcher, mais les variables d'environnement suivantes doivent être fixées
      dans le système avant de lancer csound : OPCODE6DIR, OPCODE6DIR64, CSSTRINGS, et CS_LANG. Actuellement (v. 5.02)
      CSOUNDRC peut être fixée par --env, mais cette possibilité n'est pas garantie dans les versions futures.</p>
              </td>
            </tr>
          </table>
        </div>
        <h4><a id="idm6699"></a>Windows</h4>
        <p>Pour fixer une variable d'environnement dans Windows XP et 2000 aller dans
    Panneau de Contrôle-&gt;Système-&gt;Avancé et cliquer sur le bouton 'Variables d'environnement'. Dans les autres
    versions de Windows antérieures à Windows XP et Windows 2000 on fixe les variables d'environnement dans le fichier autoexec.bat.
    Aller dans 'Poste de travail', choisir le lecteur C:, cliquer avec le bouton droit sur autoexec.bat, et
    choisir 'Edition'. Le format de l'instruction est : SET NOM=VALEUR.
    </p>
        <h4><a id="idm6701"></a>Linux</h4>
        <p>Il y a plusieurs manières de fixer les variables d'environnement sur linux. On peut les initialiser
    avec la commande de shell <span class="emphasis"><em>export</em></span>, dans le fichier .bashrc ou des fichiers similaires
    ou en les ajoutant au fichier /etc/profile.</p>
        <h4><a id="idm6704"></a>Mac</h4>
        <pre class="screen">~$ export OPCODE6DIR64=/Users/you/your/Csound6/build</pre>
        <p>De plus si l'on a un bash shell par défaut, alors il est plus facile de modifier le fichier .bashrc
      ou le fichier /etc/profile.</p>
        <p>A noter que si l'on choisit l'une des méthodes ci-dessus, par exemple modifier le fichier .bashrc,
    alors les variables d'environnement sont allouées quand un nouveau shell est créé. Ceci peut poser un
    problème lorque votre application implémente une interface Quartz ou Aqua et n'utilise pas la ligne de
    commande.</p>
        <p>Si c'est le cas, la solution standard (jusqu'à OS 10.3.9 et à moins que l'application utilise l'API
    de csound et fixe directement les variables d'environnement) consiste à créer un fichier contenant une
    liste de propriétés XML (un fichier nommé .plist par l'OS). Ce fichier devrait se trouver dans
    ~/.MacOSX/Environment.plist. Cette solution a été utilisée spécifiquement pour l'objet [csoundapi~] pour
    Pd sur OS X. Comme Pd utilise un style de paquetage .app natif OS X, et s'exécute en dehors de
    l'interface Aqua, les moyens standard de fournir les variables d'environnement à Csound ne fonctionnent pas.
    La solution consiste à fixer les variables d'environnement de Csound pour l'environnement Aqua.</p>
        <p>Il est probable que la plupart des utilisateurs n'auront pas de répertoire caché .MaxOSX dans leur
    répertoire $HOME (alias ~/). Il faut d'abord créer ce répertoire et y ajouter Environment.plist. Le contenu
    du fichier Environment.plist ressemblera à ceci :</p>
        <pre class="programlisting">
&lt;?xml version="1.0" encoding='UTF-8"?&gt;
&lt;!DOCTYPE plist PUBLIC "-//Apple Computer//DTD PLIST 1.0//EN"
    "http://www.apple.com/DTDs/PropertyList-1.0.dtd"&gt;
&lt;plist version="1.0"&gt;
&lt;dict&gt;
&lt;key&gt;OPCODEDIR&lt;/key&gt;
&lt;string&gt;/Library/Frameworks/CsoundLib.framework/Versions/5.1/Resources/Opcodes&lt;/string&gt;
&lt;key&gt;OPCODEDIR64&lt;/key&gt;
&lt;string&gt;/Volumes/ExternalHD/devel/csound5/lib64&lt;/string&gt;
&lt;key&gt;INCDIR&lt;/key&gt;
&lt;string&gt;/Volumes/ExternalHD/CSOUND/include&lt;/string&gt;
&lt;key&gt;SFDIR&lt;/key&gt;
&lt;string&gt;/Volumes/ExternalHD/iTunes/csoundaudio&lt;/string&gt;
&lt;/dict&gt;
&lt;/plist&gt;</pre>
        <p>et ainsi de suite, en utilisant la balise XML &lt;key&gt; pour chaque variable d'environnement
    requise par l'API et la balise &lt;string&gt; pour le chemin correspondant dans le système.</p>
        <p>Prière de noter qu'il faut se déconnecter et se reconnecter (login) pour que ces changements
    prennent effet.</p>
      </div>
    </div>
    <div class="navfooter">
      <hr />
      <table width="100%" summary="Navigation footer">
        <tr>
          <td width="40%" align="left"><a accesskey="p" href="CommandFlagsCategory.html">Précédent</a> </td>
          <td width="20%" align="center">
            <a accesskey="u" href="CommandTop.html">Niveau supérieur</a>
          </td>
          <td width="40%" align="right"> <a accesskey="n" href="CommandUnifile.html">Suivant</a></td>
        </tr>
        <tr>
          <td width="40%" align="left" valign="top">Options de ligne de commande (par catégorie) </td>
          <td width="20%" align="center">
            <a accesskey="h" href="index.html">Sommaire</a>
          </td>
          <td width="40%" align="right" valign="top"> Format de fichier unifié pour les orchestres et les partitions</td>
        </tr>
      </table>
    </div>
  </body>
</html>
