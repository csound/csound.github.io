<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>hrtfmove2</title>
    <link rel="stylesheet" type="text/css" href="csound.css" />
    <link rel="stylesheet" type="text/css" href="syntax-highlighting.css" />
    <meta name="generator" content="DocBook XSL Stylesheets Vsnapshot" />
    <link rel="home" href="index.html" title="Manuel de référence canonique de Csound" />
    <link rel="up" href="OpcodesTop.html" title="Opcodes et opérateurs de l'orchestre" />
    <link rel="prev" href="hrtfmove.html" title="hrtfmove" />
    <link rel="next" href="hrtfreverb.html" title="hrtfreverb" />
  </head>
  <body>
    <div class="navheader">
      <table width="100%" summary="Navigation header">
        <tr>
          <th colspan="3" align="center">hrtfmove2</th>
        </tr>
        <tr>
          <td width="20%" align="left"><a accesskey="p" href="hrtfmove.html">Précédent</a> </td>
          <th width="60%" align="center">Opcodes et opérateurs de l'orchestre</th>
          <td width="20%" align="right"> <a accesskey="n" href="hrtfreverb.html">Suivant</a></td>
        </tr>
      </table>
      <hr />
    </div>
    <div class="refentry">
      <a id="hrtfmove2"></a>
      <div class="titlepage"></div>
      <a id="IndexHrtfmove2" class="indexterm"></a>
      <div class="refnamediv">
        <h2>
          <span class="refentrytitle">hrtfmove2</span>
        </h2>
        <p>hrtfmove2 — 
      Génère un signal audio dynamique 3D binaural pour casque en utilisant un
      modèle de Woodworth de tête sphérique avec précision améliorée de la phase
      en basse fréquence.
    </p>
      </div>
      <div class="refsect1">
        <a id="idm152399"></a>
        <h2>Description</h2>
        <p>
      Cet opcode prend un signal source et le spatialise dans les trois dimensions
      entourant l'auditeur en utilisant des filtres basés sur une fonction de
      transfert en relation avec la tête (HRTF).
    </p>
      </div>
      <div class="refsect1">
        <a id="idm152402"></a>
        <h2>Syntaxe</h2>
        <pre class="synopsis">aleft, aright <span class="command"><strong>hrtfmove2</strong></span> asrc, kAz, kElev, ifilel, ifiler [,ioverlap, iradius, isr]</pre>
      </div>
      <div class="refsect1">
        <a id="idm152406"></a>
        <h2>Initialisation</h2>
        <p>
      <span class="emphasis"><em>ifilel</em></span> -- fichier des données spectrales HRTF de gauche.
    </p>
        <p>
      <span class="emphasis"><em>ifiler</em></span> -- fichier des données spectrales HRTF de droite. 
    </p>
        <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
          <table border="0" summary="Note">
            <tr>
              <td rowspan="2" align="center" valign="top" width="25">
                <img alt="[Note]" src="images/note.png" />
              </td>
              <th align="left">Note</th>
            </tr>
            <tr>
              <td align="left" valign="top">
                <p>
        Des fichiers de données spectrales (basés sur la base de donnée HTRF du MIT)
        sont disponibles dans trois taux d'échantillonnage : 44.1, 48 et 96 kHz et
        sont nommés en conséquense. Le <span class="emphasis"><em>sr</em></span> d'entrée et de
        traitement doit concorder avec celui du fichier de données. Les fichiers
        doivent se trouver dans le répertoire courant ou le SADIR (voir
        <a class="link" href="CommandEnvironment.html" title="Variables d'environnement de Csound"><em class="citetitle">Variables d'Environnement</em></a>).
      </p>
              </td>
            </tr>
          </table>
        </div>
        <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
          <table border="0" summary="Note">
            <tr>
              <td rowspan="2" align="center" valign="top" width="25">
                <img alt="[Note]" src="images/note.png" />
              </td>
              <th align="left">Note</th>
            </tr>
            <tr>
              <td align="left" valign="top">
                <p>
        Les fichiers de données HRTF à utiliser avec 
        <a class="link" href="hrtfmove.html" title="hrtfmove"><em class="citetitle">hrtfmove</em></a>,
        <a class="link" href="hrtfmove2.html" title="hrtfmove2"><em class="citetitle">hrtfmove2</em></a>,
        <a class="link" href="hrtfstat.html" title="hrtfstat"><em class="citetitle">hrtfstat</em></a>,
        <a class="link" href="hrtfearly.html" title="hrtfearly"><em class="citetitle">hrtfearly</em></a> et
        <a class="link" href="hrtfreverb.html" title="hrtfreverb"><em class="citetitle">hrtfreverb</em></a>
        ont été mis à jour pour les versions 5.15 et ultérieures de Csound (le
        code a été mis à jour et il est plus efficace). Les anciens fichiers de
        données sont maintenant obsolètes.
      </p>
              </td>
            </tr>
          </table>
        </div>
        <p>
      <span class="emphasis"><em>ioverlap</em></span> -- facultatif, nombre de chevauchements pour
      le traitement de la TFCT (4 par défaut). Voir la section du manuel sur la TFCT.
    </p>
        <p>
      <span class="emphasis"><em>iradius</em></span> -- facultatif, rayon de la tête en centimètres
      utilisé pour le calcul du spectre de phase (9.0 par défaut).
    </p>
        <p>
      <span class="emphasis"><em>isr</em></span> - facultatif, 44.1 kHz par défaut : valeurs autorisées :
      44100, 48000 et 96000.
    </p>
      </div>
      <div class="refsect1">
        <a id="idm152435"></a>
        <h2>Exécution</h2>
        <p>
      <span class="emphasis"><em>asrc</em></span> -- Signal source.
    </p>
        <p>
      <span class="emphasis"><em>kAz</em></span> -- valeur d'azimut en degrés. Les valeurs positives
      représentent les positions sur la droite, les valeurs négatives les positions
      sur la gauche.
    </p>
        <p>
      <span class="emphasis"><em>kElev</em></span> -- valeur d'élévation en degrés. Les valeurs
      positives représentent les positions au-dessus de l'horizontale, les valeurs
      négatives les positions sous l'horizontale (min -40).
    </p>
        <p>
      Les trajectoires sans artefact définies par l'utilisateur sont rendues
      possibles par un algorithme basé sur l'interpolation de magnitude spectrale
      et un spectre de phase dérivé basé sur le modèle de tête sphérique de
      Woodworth. La précision de l'ensemble de données fourni est augmentée en
      extrayant et en appliquant au spectre de phase un facteur de pondération
      dépendant de la fréquence, ce qui conduit à un délai interaural plus précis
      dans les basses fréquences. On peut contrôler le rayon de la tête pour
      la dérivation de la phase ce qui donne un niveau simple d'individualisation.
      La version de l'opcode à source dynamique utilise un algorithme de
      Transformation de Fourier à Court Terme pour éviter les artefacts causés
      par les changements des spectres de phase dérivés. Le traitement par TFCT
      signifie que cet opcode est plus gourmand en ressources que
      <a class="link" href="hrtfmove.html" title="hrtfmove"><em class="citetitle">hrtfmove</em></a> qui tronque
      la phase, mais la phase est constamment actualisée par
      <span class="emphasis"><em>hrtfmove2</em></span>.
    </p>
      </div>
      <div class="refsect1">
        <a id="idm152447"></a>
        <h2>Exemples</h2>
        <p>
      Voici un exemple de l'opcode hrtfmove2. Il utilise le fichier
      <a class="ulink" href="examples/hrtfmove2.csd" target="_top"><em class="citetitle">hrtfmove2.csd</em></a>.
    </p>
        <div class="example">
          <a id="idm152452"></a>
          <p class="title">
            <strong>Exemple 442. Exemple de l'opcode hrtfmove2.</strong>
          </p>
          <div class="example-contents">
            <div class="refsect1">
              <a id="idm152454"></a>
              <pre class="programlisting">
<span class="nt">&lt;CsoundSynthesizer&gt;</span>
<span class="nt">&lt;CsOptions&gt;</span>
<span class="c1">; Select flags here</span>
<span class="c1">; realtime audio out </span>
 -o dac 
<span class="c1">; For Non-realtime ouput leave only the line below:</span>
<span class="c1">; -o hrtf.wav</span>
<span class="nt">&lt;/CsOptions&gt;</span>
<span class="nt">&lt;CsInstruments&gt;</span><span class="w">

</span><span class="vg">sr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">44100</span><span class="w">
</span><span class="vg">kr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">4410</span><span class="w">
</span><span class="vg">ksmps</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">10</span><span class="w">
</span><span class="vg">nchnls</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="w">

</span>ga<span class="n">src</span><span class="w"> </span><span class="nb">init</span><span class="w"> </span><span class="mi">0</span><span class="w">

</span><span class="kd">instr</span><span class="w"> </span><span class="nf">1</span><span class="w">		</span><span class="c1">;a plucked string</span><span class="w">

  </span>k<span class="n">amp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="vi">p4</span><span class="w">
  </span>k<span class="n">cps</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">cpspch</span><span class="p">(</span><span class="vi">p5</span><span class="p">)</span><span class="w">
  </span>i<span class="n">cps</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">cpspch</span><span class="p">(</span><span class="vi">p5</span><span class="p">)</span><span class="w">

  </span>a<span class="n">1</span><span class="w"> </span><span class="nb">pluck</span><span class="w"> </span>k<span class="n">amp</span><span class="p">,</span><span class="w"> </span>k<span class="n">cps</span><span class="p">,</span><span class="w"> </span>i<span class="n">cps</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w">

  </span>ga<span class="n">src</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>a<span class="n">1</span><span class="w">

</span><span class="kd">endin</span><span class="w">

</span><span class="kd">instr</span><span class="w"> </span><span class="nf">10</span><span class="w">	</span><span class="c1">;uses output from instr1 as source</span><span class="w">

 </span>k<span class="n">az</span><span class="w">	</span><span class="nb">linseg</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="vi">p3</span><span class="p">,</span><span class="w"> </span><span class="mi">720</span><span class="w">		</span><span class="c1">;2 full rotations</span><span class="w">

 </span>a<span class="n">left</span><span class="p">,</span>a<span class="n">right</span><span class="w"> </span><span class="nb">hrtfmove2</span><span class="w"> </span>ga<span class="n">src</span><span class="p">,</span><span class="w"> </span>k<span class="n">az</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="s">"hrtf-44100-left.dat"</span><span class="p">,</span><span class="s">"hrtf-44100-right.dat"</span><span class="w">

 </span><span class="nb">outs</span><span class="w">	</span>a<span class="n">left</span><span class="p">,</span><span class="w"> </span>a<span class="n">right</span><span class="w">

</span><span class="kd">endin</span><span class="w">

</span><span class="nt">&lt;/CsInstruments&gt;</span>
<span class="nt">&lt;CsScore&gt;</span><span class="w">

</span><span class="c1">; Play Instrument 1: a simple arpeggio</span><span class="w">
</span><span class="nb">i</span><span class="mi">1</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="mf">.2</span><span class="w"> </span><span class="mi">15000</span><span class="w"> </span><span class="mf">8.00</span><span class="w"> 
</span><span class="nb">i</span><span class="mi">1</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mf">.2</span><span class="w"> </span><span class="mi">15000</span><span class="w"> </span><span class="mf">8.04</span><span class="w">
</span><span class="nb">i</span><span class="mi">1</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mf">.2</span><span class="w"> </span><span class="mi">15000</span><span class="w"> </span><span class="mf">8.07</span><span class="w">
</span><span class="nb">i</span><span class="mi">1</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mf">.2</span><span class="w"> </span><span class="mi">15000</span><span class="w"> </span><span class="mf">8.11</span><span class="w">
</span><span class="nb">i</span><span class="mi">1</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mf">.2</span><span class="w"> </span><span class="mi">15000</span><span class="w"> </span><span class="mf">9.02</span><span class="w">
</span><span class="nb">i</span><span class="mi">1</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mf">1.5</span><span class="w"> </span><span class="mi">15000</span><span class="w"> </span><span class="mf">8.11</span><span class="w">
</span><span class="nb">i</span><span class="mi">1</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mf">1.5</span><span class="w"> </span><span class="mi">15000</span><span class="w"> </span><span class="mf">8.07</span><span class="w">
</span><span class="nb">i</span><span class="mi">1</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mf">1.5</span><span class="w"> </span><span class="mi">15000</span><span class="w"> </span><span class="mf">8.04</span><span class="w">
</span><span class="nb">i</span><span class="mi">1</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mf">1.5</span><span class="w"> </span><span class="mi">15000</span><span class="w"> </span><span class="mf">8.00</span><span class="w">
</span><span class="nb">i</span><span class="mi">1</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mf">1.5</span><span class="w"> </span><span class="mi">15000</span><span class="w"> </span><span class="mf">7.09</span><span class="w">
</span><span class="nb">i</span><span class="mi">1</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mf">1.5</span><span class="w"> </span><span class="mi">15000</span><span class="w"> </span><span class="mf">8.00</span><span class="w">

</span><span class="c1">; Play Instrument 10 for 10 seconds.</span><span class="w">
</span><span class="nb">i</span><span class="mi">10</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="mi">10</span><span class="w">

</span><span class="nt">&lt;/CsScore&gt;</span>
<span class="nt">&lt;/CsoundSynthesizer&gt;</span>
</pre>
            </div>
          </div>
        </div>
        <br class="example-break" />
      </div>
      <div class="refsect1">
        <a id="idm152735"></a>
        <h2>Voir aussi</h2>
        <p>
      <a class="link" href="hrtfmove.html" title="hrtfmove"><em class="citetitle">hrtfmove</em></a>,
      <a class="link" href="hrtfstat.html" title="hrtfstat"><em class="citetitle">hrtfstat</em></a>,
      <a class="link" href="hrtfer.html" title="hrtfer"><em class="citetitle">hrtfer</em></a>.
    </p>
        <p>Plus d'information sur cet opcode :
      <a class="ulink" href="http://www.csoundjournal.com/issue9/newHRTFOpcodes.html" target="_top"><em class="citetitle">http://www.csoundjournal.com/issue9/newHRTFOpcodes.html</em></a>,
      écrit par Brian Carty.
    </p>
      </div>
      <div class="refsect1">
        <a id="idm152747"></a>
        <h2>Crédits</h2>
        <p>
      </p>
        <table border="0" summary="Simple list" class="simplelist">
          <tr>
            <td>Auteur : Brian Carty</td>
          </tr>
          <tr>
            <td>Maynooth</td>
          </tr>
          <tr>
            <td>2008</td>
          </tr>
        </table>
        <p>
    </p>
      </div>
    </div>
    <div class="navfooter">
      <hr />
      <table width="100%" summary="Navigation footer">
        <tr>
          <td width="40%" align="left"><a accesskey="p" href="hrtfmove.html">Précédent</a> </td>
          <td width="20%" align="center">
            <a accesskey="u" href="OpcodesTop.html">Niveau supérieur</a>
          </td>
          <td width="40%" align="right"> <a accesskey="n" href="hrtfreverb.html">Suivant</a></td>
        </tr>
        <tr>
          <td width="40%" align="left" valign="top">hrtfmove </td>
          <td width="20%" align="center">
            <a accesskey="h" href="index.html">Sommaire</a>
          </td>
          <td width="40%" align="right" valign="top"> hrtfreverb</td>
        </tr>
      </table>
    </div>
  </body>
</html>
