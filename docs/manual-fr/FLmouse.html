<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>FLmouse</title>
    <link rel="stylesheet" type="text/css" href="csound.css" />
    <link rel="stylesheet" type="text/css" href="syntax-highlighting.css" />
    <meta name="generator" content="DocBook XSL Stylesheets V1.79.1" />
    <link rel="home" href="index.html" title="Manuel de référence canonique de Csound" />
    <link rel="up" href="OpcodesTop.html" title="Opcodes et opérateurs de l'orchestre" />
    <link rel="prev" href="FLloadsnap.html" title="FLloadsnap" />
    <link rel="next" href="flooper.html" title="flooper" />
  </head>
  <body>
    <div class="navheader">
      <table width="100%" summary="Navigation header">
        <tr>
          <th colspan="3" align="center">FLmouse</th>
        </tr>
        <tr>
          <td width="20%" align="left"><a accesskey="p" href="FLloadsnap.html">Précédent</a> </td>
          <th width="60%" align="center">Opcodes et opérateurs de l'orchestre</th>
          <td width="20%" align="right"> <a accesskey="n" href="flooper.html">Suivant</a></td>
        </tr>
      </table>
      <hr />
    </div>
    <div class="refentry">
      <a id="FLmouse"></a>
      <div class="titlepage"></div>
      <a id="IndexFLmouse" class="indexterm"></a>
      <div class="refnamediv">
        <h2>
          <span class="refentrytitle">FLmouse</span>
        </h2>
        <p>FLmouse — 
      Retourne la position de la souris et l'état de ses trois boutons.
    </p>
      </div>
      <div class="refsect1">
        <a id="idm45499751948160"></a>
        <h2>Description</h2>
        <p>
      <span class="emphasis"><em>FLmouse</em></span> retourne les coordonnées de la position de la
      souris dans un panneau FLTK et l'état de ses trois boutons.
    </p>
      </div>
      <div class="refsect1">
        <a id="idm45499751946368"></a>
        <h2>Syntaxe</h2>
        <pre class="synopsis">kx, ky, kb1, kb2, kb3 <span class="command"><strong>FLmouse</strong></span> [imode]</pre>
      </div>
      <div class="refsect1">
        <a id="idm45499751944160"></a>
        <h2>Initialisation</h2>
        <p>
      <span class="emphasis"><em>imode</em></span> – (facultatif, 0 par défaut) Détermine la
      façon de rapporter la position de la souris.
    </p>
        <div class="itemizedlist">
          <ul class="itemizedlist" style="list-style-type: disc; ">
            <li class="listitem">
              <p>0 - Position absolue normalisée dans l'intervalle 0-1</p>
            </li>
            <li class="listitem">
              <p>1 - Position absolue en pixel brut</p>
            </li>
            <li class="listitem">
              <p>2 - Position en pixel brut, relative au panneau FLTK</p>
            </li>
          </ul>
        </div>
        <p>
    </p>
      </div>
      <div class="refsect1">
        <a id="idm45499751940240"></a>
        <h2>Exécution</h2>
        <p>
      <span class="emphasis"><em>kx, ky</em></span> – les coordonnées de la souris, dont
      l'intervalle dépend de l'argument <span class="emphasis"><em>imode</em></span> (voir
      ci-dessus).
    </p>
        <p><span class="emphasis"><em>kb1, kb2, kb3</em></span> – les états des boutons de la
      souris, 1 lorsque le bouton correspondant est enfoncé, 0 lorqu'il est
      relaché.
    </p>
        <p>
      <span class="emphasis"><em>FLmouse</em></span> retourne les coordonnées de la position de
      la souris dans un panneau FLTK et l'état de ses trois boutons. Les
      coordonnées peuvent être récupérées selon trois modes dépendant de la
      valeur de l'argument <span class="emphasis"><em>imode</em></span> (voir ci-dessus). Les
      modes 0 et 1 retournent la position de la souris par rapport à l'écran
      complet (mode absolu), tandis que le mode 2 retourne la position en
      pixels dans un panneau FLTK. Noter que <span class="emphasis"><em>FLmouse</em></span> n'est
      actif que lorsque le curseur de la souris se trouve sur une zone
      <a class="link" href="FLpanel.html" title="FLpanel"><em class="citetitle">FLpanel</em></a>.
    </p>
      </div>
      <div class="refsect1">
        <a id="idm45499751933424"></a>
        <h2>Exemples</h2>
        <p>
      Voici un exemple de l'opcode FLmouse. Il utilise le fichier
      <a class="ulink" href="examples/FLmouse.csd" target="_top"><em class="citetitle">FLmouse.csd</em></a>.

      </p>
        <div class="example">
          <a id="idm45499751931552"></a>
          <p class="title">
            <strong>Exemple 300. Exemple de l'opcode FLmouse.</strong>
          </p>
          <div class="example-contents">
            <p>Voir les sections <a class="link" href="UsingRealTime.html" title="Audio en temps réel"><em class="citetitle">Audio en Temps Réel</em></a>
        et <a class="link" href="CommandFlags.html" title="Ligne de commande de Csound"><em class="citetitle">Options de la Ligne de Commande</em></a> pour plus
        d'information sur l'utilisation des options de la ligne de commande.</p>
            <div class="refsect1">
              <a id="idm45499578308496"></a>
              <pre class="programlisting">
<span class="nt">&lt;CsoundSynthesizer&gt;</span>
<span class="nt">&lt;CsOptions&gt;</span>
<span class="c1">; Select audio/midi flags here according to platform</span>
<span class="c1">; Audio out   Audio in    No messages</span>
-odac           -iadc     -d     <span class="c1">;;;RT audio I/O</span>
<span class="nt">&lt;/CsOptions&gt;</span>
<span class="nt">&lt;CsInstruments&gt;</span>

<span class="vg">sr</span><span class="o">=</span><span class="mi">44100</span>
<span class="vg">ksmps</span><span class="o">=</span><span class="mi">128</span>
<span class="vg">nchnls</span><span class="o">=</span><span class="mi">2</span>

<span class="c1">;Example by Andres Cabrera 2007</span>
gi<span class="n">width</span> <span class="o">=</span> <span class="mi">400</span>
gi<span class="n">height</span> <span class="o">=</span> <span class="mi">300</span>
<span class="nb">FLpanel</span> <span class="s">"FLmouse"</span><span class="p">,</span> gi<span class="n">width</span><span class="p">,</span> gi<span class="n">height</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">10</span>
<span class="nb">FLpanelEnd</span>

<span class="nb">FLrun</span>

<span class="vg">0dbfs</span> <span class="o">=</span> <span class="mi">1</span>

<span class="kd">instr</span> <span class="nf">1</span>
  k<span class="n">x</span><span class="p">,</span> k<span class="n">y</span><span class="p">,</span> k<span class="n">b1</span><span class="p">,</span> k<span class="n">b2</span><span class="p">,</span> k<span class="n">b3</span>    <span class="nb">FLmouse</span> <span class="mi">2</span>
  k<span class="n">trig</span> <span class="nb">changed</span> k<span class="n">x</span><span class="p">,</span> k<span class="n">y</span>  <span class="c1">;Print only if coordinates have changed</span>
  <span class="nb">printf</span> <span class="s">"kx = </span><span class="si">%f</span><span class="s">   ky = </span><span class="si">%f</span><span class="s"> </span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> k<span class="n">trig</span><span class="p">,</span> k<span class="n">x</span><span class="p">,</span> k<span class="n">y</span>
k<span class="n">freq</span> <span class="o">=</span> <span class="p">((</span>gi<span class="n">width</span> <span class="o">-</span> k<span class="n">y</span><span class="p">)</span><span class="o">*</span><span class="mi">1000</span><span class="o">/</span>gi<span class="n">width</span><span class="p">)</span> <span class="o">+</span> <span class="mi">300</span>

<span class="c1">; y coordinate determines frequency, x coordinate determines amplitude</span>
<span class="c1">; Left mouse button (kb1) doubles the frequency</span>
<span class="c1">; Right mouse button (kb3) activates sound on channel 2</span>
  a<span class="n">out</span> <span class="nb">oscil</span> k<span class="n">x</span> <span class="o">/</span>gi<span class="n">width</span> <span class="p">,</span> k<span class="n">freq</span> <span class="o">*</span> <span class="p">(</span>k<span class="n">b1</span> <span class="o">+</span> <span class="mi">1</span><span class="p">),</span> <span class="mi">1</span>
  <span class="nb">outs</span> a<span class="n">out</span><span class="p">,</span> a<span class="n">out</span> <span class="o">*</span> k<span class="n">b3</span>
<span class="kd">endin</span>

<span class="nt">&lt;/CsInstruments&gt;</span>
<span class="nt">&lt;CsScore&gt;</span>
<span class="nb">f</span> <span class="mi">1</span> <span class="mi">0</span> <span class="mi">1024</span> <span class="mi">10</span> <span class="mi">1</span>

<span class="nb">i</span> <span class="mi">1</span> <span class="mi">0</span> <span class="mi">120</span>
<span class="nb">e</span>

<span class="nt">&lt;/CsScore&gt;</span>
<span class="nt">&lt;/CsoundSynthesizer&gt;</span> 
</pre>
            </div>
          </div>
        </div>
        <p><br class="example-break" />
    </p>
      </div>
      <div class="refsect1">
        <a id="idm45499751926736"></a>
        <h2>Crédits</h2>
        <p>Auteur : Gabriel Maldonado</p>
        <p>Nouveau dans la version 5.06</p>
      </div>
    </div>
    <div class="navfooter">
      <hr />
      <table width="100%" summary="Navigation footer">
        <tr>
          <td width="40%" align="left"><a accesskey="p" href="FLloadsnap.html">Précédent</a> </td>
          <td width="20%" align="center">
            <a accesskey="u" href="OpcodesTop.html">Niveau supérieur</a>
          </td>
          <td width="40%" align="right"> <a accesskey="n" href="flooper.html">Suivant</a></td>
        </tr>
        <tr>
          <td width="40%" align="left" valign="top">FLloadsnap </td>
          <td width="20%" align="center">
            <a accesskey="h" href="index.html">Sommaire</a>
          </td>
          <td width="40%" align="right" valign="top"> flooper</td>
        </tr>
      </table>
    </div>
  </body>
</html>
