<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>GEN44</title>
    <link rel="stylesheet" type="text/css" href="csound.css" />
    <link rel="stylesheet" type="text/css" href="syntax-highlighting.css" />
    <meta name="generator" content="DocBook XSL Stylesheets Vsnapshot" />
    <link rel="home" href="index.html" title="Manuel de référence canonique de Csound" />
    <link rel="up" href="ScoregensTop.html" title="Instructions de partition et routines GEN" />
    <link rel="prev" href="GEN43.html" title="GEN43" />
    <link rel="next" href="GEN49.html" title="GEN49" />
  </head>
  <body>
    <div class="navheader">
      <table width="100%" summary="Navigation header">
        <tr>
          <th colspan="3" align="center">GEN44</th>
        </tr>
        <tr>
          <td width="20%" align="left"><a accesskey="p" href="GEN43.html">Précédent</a> </td>
          <th width="60%" align="center">Instructions de partition et routines GEN</th>
          <td width="20%" align="right"> <a accesskey="n" href="GEN49.html">Suivant</a></td>
        </tr>
      </table>
      <hr />
    </div>
    <div class="refentry">
      <a id="GEN44"></a>
      <div class="titlepage"></div>
      <a id="IndexGEN44" class="indexterm"></a>
      <div class="refnamediv">
        <h2>
          <span class="refentrytitle">GEN44</span>
        </h2>
        <p>GEN44 — 
      Génère une matrice de raideur (connexion) à utiliser dans scanu/scanu2.
    </p>
      </div>
      <div class="refsect1">
        <a id="idm419818"></a>
        <h2>Description</h2>
        <p>
      Génère une matrice de raideur à partir d'un fichier texte de triplets de
      nombres.
    </p>
      </div>
      <div class="refsect1">
        <a id="idm419821"></a>
        <h2>Syntaxe</h2>
        <pre class="synopsis"><span class="command"><strong>f</strong></span> # time size -44  "filename"</pre>
        <pre class="synopsis"><span class="command"><strong>f</strong></span> # time size -44  num</pre>
      </div>
      <div class="refsect1">
        <a id="idm419827"></a>
        <h2>Exécution</h2>
        <p>
      Le fichier nommé dans la première version ou le fichier stiff.num dans le
      second cas est lu pour créer la matrice.
    </p>
      </div>
      <div class="refsect1">
        <a id="idm419830"></a>
        <h2>Format de la matrice</h2>
        <p>
      La première ligne du fichier doit être
      <span class="quote">« <span class="quote">
        &lt;MATRIX size=integer&gt;
      </span> »</span>
      ce qui crée une matrice carrée de la taille indiquée. Suivent ensuite des
      lignes de deux ou trois nombres, les deux premiers indiquant une
      connexion du premier au second et le troisième étant un poids. Si le
      troisième nombre est omis, on lui affecte la valeur 1. La liste se termine
      par une ligne
      <span class="quote">« <span class="quote">
      &lt;/MATRIX&gt;
    </span> »</span>
    ou par la fin du fichier.
    </p>
        <p>
      Exemple du format de matrice:
      </p>
        <div class="informalexample">
          <pre class="programlisting">
&lt;MATRIX size=16&gt;
1 2  2
2 3  1
3 4  3
4 5  1
5 6  4
6 7  1
7 8  5
8 9  6
9 10  7
10 11 6
11 12 5
12 13 4
13 14 3
14 15 2
15 16 1
16 1  9
14 13 2
10 3  6
6 4  2
2 14  7
&lt;/MATRIX&gt;
        </pre>
        </div>
        <p>
      </p>
        <p>Peut être donnée comme valeur nulle auquel cas une table de taille
        size*size est créée. Si size dans l'instruction gen est trop petit pour
        la matrice, l'espace est réalloué à la taille requise.
      </p>
        <p>
      Note : pour éviter la confusion avec d'autres formats de matrice, il
      vaut mieux sauvegarder ce format de matrice avec l'extension de fichier
      <em class="citetitle">.matrxT</em>.
    </p>
      </div>
      <div class="refsect1">
        <a id="idm419840"></a>
        <h2>Exemples</h2>
        <p>
      Voici un exemple du générateur GEN44. Il utilise le fichier
      <a class="ulink" href="examples/gen44.csd" target="_top"><em class="citetitle">gen44.csd</em></a>.
      </p>
        <div class="example">
          <a id="idm419845"></a>
          <p class="title">
            <strong>Exemple 1310. Exemple du générateur GEN44.</strong>
          </p>
          <div class="example-contents">
            <p>Voir les sections <a class="link" href="UsingRealTime.html" title="Audio en temps réel"><em class="citetitle">Audio en temps réel</em></a>
        et <a class="link" href="CommandFlags.html" title="Ligne de commande de Csound"><em class="citetitle">Options de la ligne de commande</em></a> pour plus
        d'information sur l'utilisation des options de la ligne de commande.</p>
            <div class="refsect1">
              <a id="idm419852"></a>
              <pre class="programlisting">
<span class="nt">&lt;CsoundSynthesizer&gt;</span>
<span class="nt">&lt;CsOptions&gt;</span>
<span class="nt">&lt;/CsOptions&gt;</span>
<span class="nt">&lt;CsInstruments&gt;</span><span class="w">

</span><span class="vg">sr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">44100</span><span class="w">
</span><span class="vg">ksmps</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">32</span><span class="w">
</span><span class="vg">nchnls</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="w">
</span><span class="vg">0dbfs</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="w">

</span><span class="kd">instr</span><span class="w"> </span><span class="nf">scan</span><span class="w">

</span>a<span class="n">0</span><span class="w"> </span><span class="nb">init</span><span class="w"> </span><span class="mi">0</span><span class="w">

</span>i<span class="n">rate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">.01</span><span class="w">

</span>k<span class="n">mass</span><span class="w"> </span><span class="nb">line</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="vi">p3</span><span class="p">,</span><span class="mi">5</span><span class="w">
</span>k<span class="n">stiff</span><span class="w"> </span><span class="nb">line</span><span class="w"> </span><span class="mi">30</span><span class="p">,</span><span class="vi">p3</span><span class="p">,</span><span class="mi">45</span><span class="w">
</span>k<span class="n">center</span><span class="w"> </span><span class="nb">line</span><span class="w"> </span><span class="mf">.08</span><span class="p">,</span><span class="vi">p3</span><span class="p">,</span><span class="mf">.01</span><span class="w">
</span>k<span class="n">damp</span><span class="w"> </span><span class="nb">line</span><span class="w"> </span><span class="mf">.01</span><span class="p">,</span><span class="vi">p3</span><span class="p">,</span><span class="mf">.08</span><span class="w">
</span>k<span class="n">pos</span><span class="w"> </span><span class="nb">line</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="vi">p3</span><span class="p">,</span><span class="mi">16</span><span class="w">
</span>k<span class="n">displace</span><span class="w"> </span><span class="nb">line</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="vi">p3</span><span class="p">,</span><span class="mf">.5</span><span class="w">

</span><span class="c1">;scanu2 init,irate,ifndisplace,ifnmass,ifnmatrix,ifncentr,ifndamp,kmass,kmtrxstiff,</span><span class="w">
</span><span class="c1">; kcentr, kdamp, ileft, iright, kpos, kdisplace, ain, idisp, id</span><span class="w">
</span><span class="nb">scanu2</span><span class="w"> </span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span>i<span class="n">rate</span><span class="p">,</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span>k<span class="n">mass</span><span class="p">,</span><span class="w"> </span>k<span class="n">stiff</span><span class="p">,</span><span class="w"> </span>k<span class="n">center</span><span class="p">,</span><span class="w"> </span>k<span class="n">damp</span><span class="p">,</span><span class="w"> </span><span class="mf">.2</span><span class="p">,</span><span class="w"> </span><span class="mf">.7</span><span class="p">,</span><span class="w"> </span>k<span class="n">pos</span><span class="p">,</span><span class="w">
</span>k<span class="n">displace</span><span class="p">,</span><span class="w"> </span>a<span class="n">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="w">

</span><span class="c1">;ar scans kamp, kfreq, ifntraj, id</span><span class="w">
</span>a<span class="n">1</span><span class="w"> </span><span class="nb">scans</span><span class="w"> </span><span class="nb">ampdbfs</span><span class="p">(</span><span class="vi">p4</span><span class="p">),</span><span class="w"> </span><span class="nb">cpspch</span><span class="p">(</span><span class="vi">p5</span><span class="p">),</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="w">
</span>a<span class="n">1</span><span class="w"> </span><span class="nb">dcblock2</span><span class="w"> </span>a<span class="n">1</span><span class="w">
</span><span class="nb">out</span><span class="w"> </span>a<span class="n">1</span><span class="w">
</span><span class="kd">endin</span><span class="w">

</span><span class="nt">&lt;/CsInstruments&gt;</span>
<span class="nt">&lt;CsScore&gt;</span><span class="w">
</span><span class="c1">; Initial displacement condition</span><span class="w">
</span><span class="nb">f</span><span class="mi">1</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="mi">16</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="c1">; sine hammer</span><span class="w">

</span><span class="c1">; Masses</span><span class="w">
</span><span class="nb">f</span><span class="mi">2</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="mi">16</span><span class="w"> </span><span class="o">-</span><span class="mi">7</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">16</span><span class="w"> </span><span class="mi">1</span><span class="w">

</span><span class="c1">; Spring matrices</span><span class="w">
</span><span class="nb">f</span><span class="mi">3</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="o">-</span><span class="mi">44</span><span class="w"> </span><span class="s">"string_with_extras-16.matrxT"</span><span class="w">

</span><span class="c1">; Centering force</span><span class="w">
</span><span class="nb">f</span><span class="mi">4</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="mi">16</span><span class="w"> </span><span class="o">-</span><span class="mi">7</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">16</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="c1">; uniform initial centering</span><span class="w">

</span><span class="c1">; Damping</span><span class="w">
</span><span class="nb">f</span><span class="mi">5</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="mi">16</span><span class="w"> </span><span class="o">-</span><span class="mi">7</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">16</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="c1">; uniform damping</span><span class="w">

</span><span class="c1">; Initial displacement - (displacement, vel, and acceleration</span><span class="w">
</span><span class="c1">; Acceleration is from stiffness matrix pos effect - increases acceleration</span><span class="w">
</span><span class="nb">f</span><span class="mi">6</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="mi">16</span><span class="w"> </span><span class="o">-</span><span class="mi">7</span><span class="w"> </span><span class="mf">.01</span><span class="w"> </span><span class="mi">16</span><span class="w"> </span><span class="mf">.01</span><span class="w"> </span><span class="c1">; uniform initial velocity-displacement</span><span class="w">

</span><span class="c1">; Trajectories</span><span class="w">
</span><span class="nb">f</span><span class="mi">7</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="mi">16</span><span class="w"> </span><span class="o">-</span><span class="mi">5</span><span class="w"> </span><span class="mf">.001</span><span class="w"> </span><span class="mi">16</span><span class="w"> </span><span class="mi">16</span><span class="w">

</span><span class="nb">i</span><span class="s">"scan"</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">-</span><span class="mi">6</span><span class="w"> </span><span class="mf">7.00</span><span class="w">
</span><span class="nb">i</span><span class="s">"scan"</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">-</span><span class="mi">6</span><span class="w"> </span><span class="mf">5.00</span><span class="w">
</span><span class="nb">i</span><span class="s">"scan"</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">-</span><span class="mi">6</span><span class="w"> </span><span class="mf">6.00</span><span class="w">
</span><span class="nb">i</span><span class="s">"scan"</span><span class="w"> </span><span class="mi">6</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">-</span><span class="mi">6</span><span class="w"> </span><span class="mf">8.00</span><span class="w">
</span><span class="nb">i</span><span class="s">"scan"</span><span class="w"> </span><span class="mi">8</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">-</span><span class="mi">6</span><span class="w"> </span><span class="mf">10.00</span><span class="w">

</span><span class="nb">e</span><span class="w">

</span><span class="nt">&lt;/CsScore&gt;</span>
<span class="nt">&lt;/CsoundSynthesizer&gt;</span>
</pre>
            </div>
          </div>
        </div>
        <p><br class="example-break" />
    </p>
      </div>
      <div class="refsect1">
        <a id="idm420246"></a>
        <h2>Crédits</h2>
        <p>Auteur : John ffitch</p>
        <p>Nouveau dans la version 6.16, juin 2021</p>
      </div>
    </div>
    <div class="navfooter">
      <hr />
      <table width="100%" summary="Navigation footer">
        <tr>
          <td width="40%" align="left"><a accesskey="p" href="GEN43.html">Précédent</a> </td>
          <td width="20%" align="center">
            <a accesskey="u" href="ScoregensTop.html">Niveau supérieur</a>
          </td>
          <td width="40%" align="right"> <a accesskey="n" href="GEN49.html">Suivant</a></td>
        </tr>
        <tr>
          <td width="40%" align="left" valign="top">GEN43 </td>
          <td width="20%" align="center">
            <a accesskey="h" href="index.html">Sommaire</a>
          </td>
          <td width="40%" align="right" valign="top"> GEN49</td>
        </tr>
      </table>
    </div>
  </body>
</html>
