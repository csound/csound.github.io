<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>hrtfreverb</title>
    <link rel="stylesheet" type="text/css" href="csound.css" />
    <link rel="stylesheet" type="text/css" href="syntax-highlighting.css" />
    <meta name="generator" content="DocBook XSL Stylesheets Vsnapshot" />
    <link rel="home" href="index.html" title="Manuel de référence canonique de Csound" />
    <link rel="up" href="OpcodesTop.html" title="Opcodes et opérateurs de l'orchestre" />
    <link rel="prev" href="hrtfmove2.html" title="hrtfmove2" />
    <link rel="next" href="hrtfstat.html" title="hrtfstat" />
  </head>
  <body>
    <div class="navheader">
      <table width="100%" summary="Navigation header">
        <tr>
          <th colspan="3" align="center">hrtfreverb</th>
        </tr>
        <tr>
          <td width="20%" align="left"><a accesskey="p" href="hrtfmove2.html">Précédent</a> </td>
          <th width="60%" align="center">Opcodes et opérateurs de l'orchestre</th>
          <td width="20%" align="right"> <a accesskey="n" href="hrtfstat.html">Suivant</a></td>
        </tr>
      </table>
      <hr />
    </div>
    <div class="refentry">
      <a id="hrtfreverb"></a>
      <div class="titlepage"></div>
      <a id="Indexhrtfreverb" class="indexterm"></a>
      <div class="refnamediv">
        <h2>
          <span class="refentrytitle">hrtfreverb</span>
        </h2>
        <p>hrtfreverb — 
      Une réverbération binaurale à champ de diffusion basée sur un réseau de
      lignes à retard rétroactives (Feedback Delay Network) dynamique.
    </p>
      </div>
      <div class="refsect1">
        <a id="idm152764"></a>
        <h2>Description</h2>
        <p>
      Cet opcode fonctionne de manière autonome comme une réverbération souple et
      efficace. Il est cependant conçu pour être utilisé avec
      <a class="link" href="hrtfearly.html" title="hrtfearly"><em class="citetitle">hrtfearly</em></a> pour
      obtenir une réverbération spatialement précise avec des trajectoires de la
      source définissables par l'utilisateur. Il fournit aussi une cohérence
      inter-oreilles précise.
    </p>
        <p>
      Un champ réverbérant efficace, fonction de la fréquence, est créé en se
      basant sur les durées de réverbération souhaitées pour les basses et les
      hautes fréquences. L'opcode est conçu pour fonctionner avec
      <a class="link" href="hrtfearly.html" title="hrtfearly"><em class="citetitle">hrtfearly</em></a>, utilisant
      idéalement les sorties de ce dernier comme entrées. Cependant, on peut
      utiliser <a class="link" href="hrtfreverb.html" title="hrtfreverb"><em class="citetitle">hrtfreverb</em></a>
      de manière autonome. La stabilité est renforcée.
    </p>
      </div>
      <div class="refsect1">
        <a id="idm152774"></a>
        <h2>Syntaxe</h2>
        <pre class="synopsis">aleft, aright, idel <span class="command"><strong>hrtfreverb</strong></span> asrc, ilowrt60, ihighrt60, ifilel, ifiler [,isr, imfp, iorder]</pre>
      </div>
      <div class="refsect1">
        <a id="idm152778"></a>
        <h2>Initialisation</h2>
        <p>
      <span class="emphasis"><em>ilowrt60</em></span> - durée de réverbération des basses fréquences. 
    </p>
        <p>
      <span class="emphasis"><em>ihighrt60</em></span> - durée de réverbération des hautes fréquences.
    </p>
        <p>
      <span class="emphasis"><em>ifilel</em></span> - fichier des données spectrales HRTF de gauche.
    </p>
        <p>
      <span class="emphasis"><em>ifiler</em></span> - fichier des données spectrales HRTF de droite.
    </p>
        <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
          <table border="0" summary="Note">
            <tr>
              <td rowspan="2" align="center" valign="top" width="25">
                <img alt="[Note]" src="images/note.png" />
              </td>
              <th align="left">Note</th>
            </tr>
            <tr>
              <td align="left" valign="top">
                <p>
        Des fichiers de données spectrales (basés sur la base de données HRTF du
        MIT) sont disponibles sous trois différents taux d'échantillonnage :
        44.1, 48 et 96 kHz et sont nommés en conséquence. Le
        <span class="emphasis"><em>sr</em></span> d'entrée et de traitement doit correspondre
        au <span class="emphasis"><em>sr</em></span> du fichier de données. Les fichiers doivent
        se trouver dans le répertoire courant ou dans SADIR (voir
        <a class="link" href="CommandEnvironment.html" title="Variables d'environnement de Csound"><em class="citetitle">Variables d'environnement</em></a>).
      </p>
              </td>
            </tr>
          </table>
        </div>
        <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
          <table border="0" summary="Note">
            <tr>
              <td rowspan="2" align="center" valign="top" width="25">
                <img alt="[Note]" src="images/note.png" />
              </td>
              <th align="left">Note</th>
            </tr>
            <tr>
              <td align="left" valign="top">
                <p>
        Les fichiers de données HRTF à utiliser avec 
        <a class="link" href="hrtfmove.html" title="hrtfmove"><em class="citetitle">hrtfmove</em></a>,
        <a class="link" href="hrtfmove2.html" title="hrtfmove2"><em class="citetitle">hrtfmove2</em></a>,
        <a class="link" href="hrtfstat.html" title="hrtfstat"><em class="citetitle">hrtfstat</em></a>,
        <a class="link" href="hrtfearly.html" title="hrtfearly"><em class="citetitle">hrtfearly</em></a> et
        <a class="link" href="hrtfreverb.html" title="hrtfreverb"><em class="citetitle">hrtfreverb</em></a>
        ont été mis à jour pour les versions 5.15 et ultérieures de Csound (le
        code a été mis à jour et il est plus efficace). Les anciens fichiers de
        données sont maintenant obsolètes.
      </p>
              </td>
            </tr>
          </table>
        </div>
        <p>
      <span class="emphasis"><em>isr</em></span> - facultatif, 44.1kHz par défaut. Valeurs acceptées :
      44100, 48000 et 96000.
    </p>
        <p>
      <span class="emphasis"><em>imfp</em></span> - facultatif, chemin libre moyen, celui d'un pièce
      de taille moyenne par défaut. Si cet opcode est utilisé avec
      <a class="link" href="hrtfearly.html" title="hrtfearly"><em class="citetitle">hrtfearly</em></a>, le chemin
      libre moyen de la pièce peut être utilisé pour calculer le retard approprié
      pour la réverbération tardive. Intervalle accepté : le chemin libre moyen
      de la plus petite pièce autorisée par <span class="emphasis"><em>hrtfearly</em></span>
      (0.003876)  1.
    </p>
        <p>
      <span class="emphasis"><em>iorder</em></span> - facultatif, ordre du traitement des premières
      réflexions. Si cet opcode est utilisé avec
      <a class="link" href="hrtfearly.html" title="hrtfearly"><em class="citetitle">hrtfearly</em></a>, l'ordre
      des premières réflexions peut être utilisé pour calculer le retard pour la
      réverbération tardive.
    </p>
        <p>
      <span class="emphasis"><em>asrc</em></span> - Signal source en entrée.
    </p>
        <p>
      <span class="emphasis"><em>idel</em></span> - Si cet opcode est utilisé avec
      <a class="link" href="hrtfearly.html" title="hrtfearly"><em class="citetitle">hrtfearly</em></a>, ce
      paramètre est le retard approprié pour la réverbération tardive, basé sur
      la pièce et l'ordre du traitement.
    </p>
      </div>
      <div class="refsect1">
        <a id="idm152825"></a>
        <h2>Exemples</h2>
        <p>
      Voici un exemple des opcodes hrtfearly et hrtfreverb. Il utilise le fichier
      <a class="ulink" href="examples/hrtfearly.csd" target="_top"><em class="citetitle">hrtfearly.csd</em></a>.
    </p>
        <div class="example">
          <a id="idm152830"></a>
          <p class="title">
            <strong>Exemple 443. Exemple de l'opcode htrfearly.</strong>
          </p>
          <div class="example-contents">
            <div class="refsect1">
              <a id="idm152832"></a>
              <pre class="programlisting">
<span class="nt">&lt;CsoundSynthesizer&gt;</span>
<span class="nt">&lt;CsOptions&gt;</span>

<span class="c1">; Select flags here</span>
<span class="c1">; realtime audio out</span>
 -o dac
<span class="c1">; file ouput </span>
<span class="c1">; -o hrtf.wav</span>
  
<span class="nt">&lt;/CsOptions&gt;</span>
<span class="nt">&lt;CsInstruments&gt;</span><span class="w">

</span><span class="vg">nchnls</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="w">

</span>ga<span class="n">src</span><span class="w"> </span><span class="nb">init</span><span class="w"> </span><span class="mi">0</span><span class="w">	</span><span class="c1">;global</span><span class="w">

</span><span class="kd">instr</span><span class="w"> </span><span class="nf">1</span><span class="w">		</span><span class="c1">;a plucked string, distorted and filtered</span><span class="w">

  </span>i<span class="n">amp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">15000</span><span class="w">
  </span>i<span class="n">cps</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">cpspch</span><span class="p">(</span><span class="vi">p4</span><span class="p">)</span><span class="w">

  </span>a<span class="n">1</span><span class="w"> </span><span class="nb">pluck</span><span class="w"> </span>i<span class="n">amp</span><span class="p">,</span><span class="w"> </span>i<span class="n">cps</span><span class="p">,</span><span class="w"> </span>i<span class="n">cps</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w">
  </span>a<span class="n">dist</span><span class="w"> </span><span class="nb">distort1</span><span class="w"> </span>a<span class="n">1</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="mf">.5</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w">
  </span>a<span class="n">filt</span><span class="w"> </span><span class="nb">moogvcf2</span><span class="w"> </span>a<span class="n">dist</span><span class="p">,</span><span class="w"> </span><span class="mi">8000</span><span class="p">,</span><span class="w"> </span><span class="mf">.5</span><span class="w"> 
  </span>a<span class="n">out</span><span class="w"> </span><span class="nb">linen</span><span class="w"> </span>a<span class="n">filt</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="vi">p3</span><span class="p">,</span><span class="w"> </span><span class="mf">.01</span><span class="w">
  
  </span>ga<span class="n">src</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>ga<span class="n">src</span><span class="w"> </span><span class="o">+</span><span class="w"> </span>a<span class="n">out</span><span class="w">

</span><span class="kd">endin</span><span class="w">

</span><span class="kd">instr</span><span class="w"> </span><span class="nf">10</span><span class="w">	</span><span class="c1">;uses output from instr1 as source</span><span class="w">
  
  </span><span class="c1">;simple path for source</span><span class="w">
  </span>k<span class="n">x</span><span class="w"> </span><span class="nb">line</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="vi">p3</span><span class="p">,</span><span class="w"> </span><span class="mi">9</span><span class="w">

  </span><span class="c1">;early reflections, room default 1</span><span class="w">
  </span>a<span class="n">earlyl</span><span class="p">,</span>a<span class="n">earlyr</span><span class="p">,</span><span class="w"> </span>i<span class="n">rt60low</span><span class="p">,</span><span class="w"> </span>i<span class="n">rt60high</span><span class="p">,</span><span class="w"> </span>i<span class="n">mfp</span><span class="w"> </span><span class="nb">hrtfearly</span><span class="w"> </span>ga<span class="n">src</span><span class="p">,</span><span class="w"> </span>k<span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="s">"hrtf-44100-left.dat"</span><span class="p">,</span><span class="w"> </span><span class="s">"hrtf-44100-right.dat"</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w">

  </span><span class="c1">;later reverb, uses outputs from above</span><span class="w">
  </span>a<span class="n">revl</span><span class="p">,</span><span class="w"> </span>a<span class="n">revr</span><span class="p">,</span><span class="w"> </span>i<span class="n">del</span><span class="w"> </span><span class="nb">hrtfreverb</span><span class="w"> </span>ga<span class="n">src</span><span class="p">,</span><span class="w"> </span>i<span class="n">rt60low</span><span class="p">,</span><span class="w"> </span>i<span class="n">rt60high</span><span class="p">,</span><span class="w"> </span><span class="s">"hrtf-44100-left.dat"</span><span class="p">,</span><span class="w"> </span><span class="s">"hrtf-44100-right.dat"</span><span class="p">,</span><span class="w"> </span><span class="mi">44100</span><span class="p">,</span><span class="w"> </span>i<span class="n">mfp</span><span class="w">

  </span><span class="c1">;delayed and scaled</span><span class="w">
  </span>a<span class="n">latel</span><span class="w"> </span><span class="nb">delay</span><span class="w"> </span>a<span class="n">revl</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mf">.1</span><span class="p">,</span><span class="w"> </span>i<span class="n">del</span><span class="w">
  </span>a<span class="n">later</span><span class="w"> </span><span class="nb">delay</span><span class="w"> </span>a<span class="n">revr</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mf">.1</span><span class="p">,</span><span class="w"> </span>i<span class="n">del</span><span class="w">

  </span><span class="nb">outs</span><span class="w">	</span>a<span class="n">earlyl</span><span class="w"> </span><span class="o">+</span><span class="w"> </span>a<span class="n">latel</span><span class="p">,</span><span class="w"> </span>a<span class="n">earlyr</span><span class="w"> </span><span class="o">+</span><span class="w"> </span>a<span class="n">later</span><span class="w">
  
  </span>ga<span class="n">src</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="w">

</span><span class="kd">endin</span><span class="w">
  
</span><span class="nt">&lt;/CsInstruments&gt;</span>
<span class="nt">&lt;CsScore&gt;</span><span class="w">

</span><span class="c1">; Play Instrument 1: a simple arpeggio</span><span class="w">
</span><span class="nb">i</span><span class="mi">1</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="mf">.2</span><span class="w"> </span><span class="mf">8.00</span><span class="w"> 
</span><span class="nb">i</span><span class="mi">1</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mf">.2</span><span class="w"> </span><span class="mf">8.04</span><span class="w">
</span><span class="nb">i</span><span class="mi">1</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mf">.2</span><span class="w"> </span><span class="mf">8.07</span><span class="w">
</span><span class="nb">i</span><span class="mi">1</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mf">.2</span><span class="w"> </span><span class="mf">8.11</span><span class="w">
</span><span class="nb">i</span><span class="mi">1</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mf">.2</span><span class="w"> </span><span class="mf">9.02</span><span class="w">
</span><span class="nb">i</span><span class="mi">1</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mf">1.5</span><span class="w"> </span><span class="mf">8.11</span><span class="w">
</span><span class="nb">i</span><span class="mi">1</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mf">1.5</span><span class="w"> </span><span class="mf">8.07</span><span class="w">
</span><span class="nb">i</span><span class="mi">1</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mf">1.5</span><span class="w"> </span><span class="mf">8.04</span><span class="w">
</span><span class="nb">i</span><span class="mi">1</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mf">1.5</span><span class="w"> </span><span class="mf">8.00</span><span class="w">
</span><span class="nb">i</span><span class="mi">1</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mf">1.5</span><span class="w"> </span><span class="mf">7.09</span><span class="w">
</span><span class="nb">i</span><span class="mi">1</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="mf">8.00</span><span class="w">

</span><span class="c1">; Play Instrument 10 for 13 seconds.</span><span class="w">
</span><span class="nb">i</span><span class="mi">10</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="mi">13</span><span class="w">

</span><span class="nt">&lt;/CsScore&gt;</span>
<span class="nt">&lt;/CsoundSynthesizer&gt;</span>
</pre>
            </div>
          </div>
        </div>
        <br class="example-break" />
      </div>
      <div class="refsect1">
        <a id="idm153217"></a>
        <h2>Voir aussi</h2>
        <p>
      <a class="link" href="hrtfearly.html" title="hrtfearly"><em class="citetitle">hrtfearly</em></a>
      <a class="link" href="hrtfmove.html" title="hrtfmove"><em class="citetitle">hrtfmove</em></a>,
      <a class="link" href="hrtfmove2.html" title="hrtfmove2"><em class="citetitle">hrtfmove2</em></a>,
      <a class="link" href="hrtfstat.html" title="hrtfstat"><em class="citetitle">hrtfstat</em></a>,
      <a class="link" href="hrtfer.html" title="hrtfer"><em class="citetitle">hrtfer</em></a>.
    </p>
      </div>
      <div class="refsect1">
        <a id="idm153230"></a>
        <h2>Crédits</h2>
        <p>
      </p>
        <table border="0" summary="Simple list" class="simplelist">
          <tr>
            <td>Auteur : Brian Carty</td>
          </tr>
          <tr>
            <td>Maynooth</td>
          </tr>
          <tr>
            <td>2011</td>
          </tr>
        </table>
        <p>
    </p>
      </div>
    </div>
    <div class="navfooter">
      <hr />
      <table width="100%" summary="Navigation footer">
        <tr>
          <td width="40%" align="left"><a accesskey="p" href="hrtfmove2.html">Précédent</a> </td>
          <td width="20%" align="center">
            <a accesskey="u" href="OpcodesTop.html">Niveau supérieur</a>
          </td>
          <td width="40%" align="right"> <a accesskey="n" href="hrtfstat.html">Suivant</a></td>
        </tr>
        <tr>
          <td width="40%" align="left" valign="top">hrtfmove2 </td>
          <td width="20%" align="center">
            <a accesskey="h" href="index.html">Sommaire</a>
          </td>
          <td width="40%" align="right" valign="top"> hrtfstat</td>
        </tr>
      </table>
    </div>
  </body>
</html>
