<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>nreverb</title>
    <link rel="stylesheet" type="text/css" href="csound.css" />
    <link rel="stylesheet" type="text/css" href="syntax-highlighting.css" />
    <meta name="generator" content="DocBook XSL Stylesheets V1.79.1" />
    <link rel="home" href="index.html" title="Manuel de référence canonique de Csound" />
    <link rel="up" href="OpcodesTop.html" title="Opcodes et opérateurs de l'orchestre" />
    <link rel="prev" href="notnum.html" title="notnum" />
    <link rel="next" href="nrpn.html" title="nrpn" />
  </head>
  <body>
    <div class="navheader">
      <table width="100%" summary="Navigation header">
        <tr>
          <th colspan="3" align="center">nreverb</th>
        </tr>
        <tr>
          <td width="20%" align="left"><a accesskey="p" href="notnum.html">Précédent</a> </td>
          <th width="60%" align="center">Opcodes et opérateurs de l'orchestre</th>
          <td width="20%" align="right"> <a accesskey="n" href="nrpn.html">Suivant</a></td>
        </tr>
      </table>
      <hr />
    </div>
    <div class="refentry">
      <a id="nreverb"></a>
      <div class="titlepage"></div>
      <a id="IndexNreverb" class="indexterm"></a>
      <div class="refnamediv">
        <h2>
          <span class="refentrytitle">nreverb</span>
        </h2>
        <p>nreverb — 
      Une réverbération constituée de 6 filtres en peigne passe-bas parallèles.
    </p>
      </div>
      <div class="refsect1">
        <a id="idm45499725826176"></a>
        <h2>Description</h2>
        <p>
      Réverbération constituée de 6 filtres en peigne passe-bas parallèles suivis
      de 5 filtres passe-tout en série. <span class="emphasis"><em>nreverb</em></span> remplace
      <a class="link" href="reverb2.html" title="reverb2"><em class="citetitle">reverb2</em></a> (version 3.48)
      et ainsi les deux opcodes sont identiques.
    </p>
      </div>
      <div class="refsect1">
        <a id="idm45499725823504"></a>
        <h2>Syntaxe</h2>
        <pre class="synopsis">ares <span class="command"><strong>nreverb</strong></span> asig, ktime, khdif [, iskip] [,inumCombs] [, ifnCombs] \
      [, inumAlpas] [, ifnAlpas]</pre>
      </div>
      <div class="refsect1">
        <a id="idm45499725747136"></a>
        <h2>Initialisation</h2>
        <p>
      <span class="emphasis"><em>iskip</em></span> (facultatif, 0 par défaut) -- L'initialisation
      est ignorée si ce paramètre est présent et différent de zéro.
    </p>
        <p>
      <span class="emphasis"><em>inumCombs</em></span> (facultatif) -- nombre de constantes de
      filtre dans le filtre en peigne. S'il est omis, les valeurs par défaut sont
      les constantes de <span class="emphasis"><em>nreverb</em></span>. Nouveau dans la version
      4.09 de Csound.
    </p>
        <p>
      <span class="emphasis"><em>ifnCombs</em></span> - table de fonction contenant <span class="emphasis"><em>inumCombs</em></span>
      valeurs temporelles du filtre en peigne, suivies du même nombre de valeurs
      de gain. La table ne doit pas être normalisée (utiliser un numéro de fgen
      négatif). Les valeurs temporelles positives sont en secondes. Les valeurs
      temporelles sont converties en interne en nombre d'échantillons, puis fixées
      au nombre premier supérieur le plus proche. Si le temps est négatif, il est
      directement interprété en trames d'échantillons, et aucun traitement n'est
      effectué (à part le changement de signe). Nouveau dans la version 4.09 de
      Csound.
    </p>
        <p>
    <span class="emphasis"><em>inumAlpas</em></span>, <span class="emphasis"><em>ifnAlpas</em></span> (facultatif) -- 
    comme <span class="emphasis"><em>inumCombs/ifnCombs</em></span>, pour le filtre passe-tout.
    Nouveau dans Csound 4.09.
    </p>
      </div>
      <div class="refsect1">
        <a id="idm45499725739904"></a>
        <h2>Exécution</h2>
        <p>
      Le signal d'entrée <span class="emphasis"><em>asig</em></span> est réverbéré pendant
      <span class="emphasis"><em>ktime</em></span> secondes. Le paramètre <span class="emphasis"><em>khdif</em></span>
      contrôle la diffusion des hautes fréquence. Les valeurs de
      <span class="emphasis"><em>khdif</em></span> doivent être comprises entre 0 et 1. Si
      <span class="emphasis"><em>khdif</em></span> vaut 0 toutes les fréquences décroissent à la
      même vitesse. Si <span class="emphasis"><em>khdif</em></span> vaut 1, les hautes fréquences
      décroissent plus vite que les basses fréquences. Si <span class="emphasis"><em>ktime</em></span>
      reçoit par inadvertance un nombre non positif, il est automatiquement
      réinitialisé à 0.01. (Nouveau dans la version 4.07 de Csound.)
    </p>
        <p>
      A partir de la version 4.09 de Csound, <span class="emphasis"><em>nreverb</em></span> peut
      lire n'importe quel nombre de filtres en peigne et passe-tout depuis une
      ftable.
    </p>
      </div>
      <div class="refsect1">
        <a id="idm45499725733664"></a>
        <h2>Exemples</h2>
        <p>
      Voici un exemple simple de l'opdoce nreverb. Il utilise le fichier
      <a class="ulink" href="examples/nreverb.csd" target="_top"><em class="citetitle">nreverb.csd</em></a>.
      </p>
        <div class="example">
          <a id="idm45499725731792"></a>
          <p class="title">
            <strong>Exemple 616. Exemple simple de l'opdoce nreverb.</strong>
          </p>
          <div class="example-contents">
            <p>Voir les sections <a class="link" href="UsingRealTime.html" title="Audio en temps réel"><em class="citetitle">Audio en Temps Réel</em></a>
        et <a class="link" href="CommandFlags.html" title="Ligne de commande de Csound"><em class="citetitle">Options de la Ligne de Commande</em></a> pour plus
        d'information sur l'utilisation des options de la ligne de commande.</p>
            <div class="refsect1">
              <a id="idm45499544110240"></a>
              <pre class="programlisting">
<span class="nt">&lt;CsoundSynthesizer&gt;</span>
<span class="nt">&lt;CsOptions&gt;</span>
<span class="c1">; Select audio/midi flags here according to platform</span>
<span class="c1">; Audio out   Audio in    No messages</span>
-odac           -iadc     -d     <span class="c1">;;;RT audio I/O</span>
<span class="c1">; For Non-realtime ouput leave only the line below:</span>
<span class="c1">; -o nreverb.wav -W ;;; for file output any platform</span>
<span class="nt">&lt;/CsOptions&gt;</span>
<span class="nt">&lt;CsInstruments&gt;</span>

<span class="c1">; Initialize the global variables.</span>
<span class="vg">sr</span> <span class="o">=</span> <span class="mi">44100</span>
<span class="vg">kr</span> <span class="o">=</span> <span class="mi">4410</span>
<span class="vg">ksmps</span> <span class="o">=</span> <span class="mi">10</span>
<span class="vg">nchnls</span> <span class="o">=</span> <span class="mi">1</span>

ga<span class="n">out</span> <span class="nb">init</span>  <span class="mi">0</span>

<span class="kd">instr</span> <span class="nf">1</span>
a<span class="n">1</span>	<span class="nb">oscil</span>	<span class="mi">15000</span><span class="p">,</span> <span class="mi">440</span><span class="p">,</span> <span class="mi">1</span>
	<span class="nb">out</span>	a<span class="n">1</span>
 
ga<span class="n">out</span> <span class="o">=</span> ga<span class="n">out</span><span class="o">+</span>a<span class="n">1</span>
<span class="kd">endin</span>

<span class="kd">instr</span> <span class="nf">99</span>

a<span class="n">2</span>	<span class="nb">nreverb</span>	ga<span class="n">out</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mf">.3</span>
	<span class="nb">out</span>	a<span class="n">2</span><span class="o">*</span><span class="mf">.15</span>		<span class="c1">;volume of reverb		</span>
	 
ga<span class="n">out</span> <span class="o">=</span> <span class="mi">0</span>
<span class="kd">endin</span>

<span class="nt">&lt;/CsInstruments&gt;</span>
<span class="nt">&lt;CsScore&gt;</span>

<span class="c1">; Table 1: an ordinary sine wave.</span>
<span class="nb">f</span> <span class="mi">1</span> <span class="mi">0</span> <span class="mi">32768</span> <span class="mi">10</span> <span class="mi">1</span> 
         
<span class="nb">i</span> <span class="mi">1</span> <span class="mi">0</span> <span class="mf">.5</span>
<span class="nb">i</span> <span class="mi">1</span> <span class="mi">1</span> <span class="mf">.5</span>
<span class="nb">i</span> <span class="mi">1</span> <span class="mi">2</span> <span class="mf">.5</span>
<span class="nb">i</span> <span class="mi">1</span> <span class="mi">3</span> <span class="mf">.5</span>
<span class="nb">i</span> <span class="mi">1</span> <span class="mi">4</span> <span class="mf">.5</span>
<span class="nb">i</span> <span class="mi">99</span> <span class="mi">0</span> <span class="mi">9</span> 
<span class="nb">e</span>


<span class="nt">&lt;/CsScore&gt;</span>
<span class="nt">&lt;/CsoundSynthesizer&gt;</span>
</pre>
            </div>
          </div>
        </div>
        <p><br class="example-break" />
    </p>
        <p>
      Voici un exemple de l'opcode nreverb utilisant une ftable pour les constantes
      de filtre. Il utilise les fichiers
      <a class="ulink" href="examples/nreverb_ftable.csd" target="_top"><em class="citetitle">nreverb_ftable.csd</em></a>
      et <a class="ulink" href="examples/beats.wav" target="_top"><em class="citetitle">beats.wav</em></a>.
      </p>
        <div class="example">
          <a id="idm45499725725504"></a>
          <p class="title">
            <strong>Exemple 617. Un exemple de l'opcode nreverb utilisant une ftable pour les constantes de filtre.</strong>
          </p>
          <div class="example-contents">
            <div class="refsect1">
              <a id="idm45499543313072"></a>
              <pre class="programlisting">
<span class="nt">&lt;CsoundSynthesizer&gt;</span>
<span class="nt">&lt;CsOptions&gt;</span>
<span class="c1">; Select audio/midi flags here according to platform</span>
<span class="c1">; Audio out   Audio in    No messages</span>
-odac           -iadc     -d     <span class="c1">;;;RT audio I/O</span>
<span class="c1">; For Non-realtime ouput leave only the line below:</span>
<span class="c1">; -o nreverb_ftable.wav -W ;;; for file output any platform</span>
<span class="nt">&lt;/CsOptions&gt;</span>
<span class="nt">&lt;CsInstruments&gt;</span>

<span class="c1">; Initialize the global variables.</span>
<span class="vg">sr</span> <span class="o">=</span> <span class="mi">44100</span>
<span class="vg">kr</span> <span class="o">=</span> <span class="mi">4410</span>
<span class="vg">ksmps</span> <span class="o">=</span> <span class="mi">10</span>
<span class="vg">nchnls</span> <span class="o">=</span> <span class="mi">1</span>

<span class="kd">instr</span> <span class="nf">1</span>
  a<span class="n">1</span>  <span class="nb">soundin</span> <span class="s">"beats.wav"</span>
  a<span class="n">2</span>  <span class="nb">nreverb</span> a<span class="n">1</span><span class="p">,</span> <span class="mf">1.5</span><span class="p">,</span> <span class="mf">.75</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">71</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">72</span>
  <span class="nb">out</span> a<span class="n">1</span> <span class="o">+</span> a<span class="n">2</span> <span class="o">*</span> <span class="mf">.4</span>
<span class="kd">endin</span>


<span class="nt">&lt;/CsInstruments&gt;</span>
<span class="nt">&lt;CsScore&gt;</span>

<span class="c1">; freeverb time constants, as direct (negative) sample, with arbitrary gains</span>
<span class="nb">f</span><span class="mi">71</span> <span class="mi">0</span> <span class="mi">16</span>   <span class="o">-</span><span class="mi">2</span>  <span class="o">-</span><span class="mi">1116</span> <span class="o">-</span><span class="mi">1188</span> <span class="o">-</span><span class="mi">1277</span> <span class="o">-</span><span class="mi">1356</span> <span class="o">-</span><span class="mi">1422</span> <span class="o">-</span><span class="mi">1491</span> <span class="o">-</span><span class="mi">1557</span> <span class="o">-</span><span class="mi">1617</span>  <span class="mf">0.8</span>  <span class="mf">0.79</span>  <span class="mf">0.78</span>  <span class="mf">0.77</span>  <span class="mf">0.76</span>  <span class="mf">0.75</span>  <span class="mf">0.74</span>  <span class="mf">0.73</span>

<span class="nb">f</span><span class="mi">72</span> <span class="mi">0</span> <span class="mi">16</span>   <span class="o">-</span><span class="mi">2</span>  <span class="o">-</span><span class="mi">556</span> <span class="o">-</span><span class="mi">441</span> <span class="o">-</span><span class="mi">341</span> <span class="o">-</span><span class="mi">225</span>  <span class="mf">0.7</span>  <span class="mf">0.72</span>  <span class="mf">0.74</span>  <span class="mf">0.76</span>

<span class="nb">i</span><span class="mi">1</span> <span class="mi">0</span> <span class="mi">3</span>
<span class="nb">e</span>


<span class="nt">&lt;/CsScore&gt;</span>
<span class="nt">&lt;/CsoundSynthesizer&gt;</span>
</pre>
            </div>
          </div>
        </div>
        <p><br class="example-break" />
    </p>
      </div>
      <div class="refsect1">
        <a id="idm45499725723536"></a>
        <h2>Crédits</h2>
        <p>
      </p>
        <table border="0" summary="Simple list" class="simplelist">
          <tr>
            <td>Auteur : Paris Smaragdis (<span class="emphasis"><em>reverb2</em></span>)</td>
          </tr>
          <tr>
            <td>MIT, Cambridge</td>
          </tr>
          <tr>
            <td>1995</td>
          </tr>
        </table>
        <p>
    </p>
        <p>
      </p>
        <table border="0" summary="Simple list" class="simplelist">
          <tr>
            <td>Auteur : Richard Karpen (<span class="emphasis"><em>nreverb</em></span>)</td>
          </tr>
          <tr>
            <td>Seattle, Wash</td>
          </tr>
          <tr>
            <td>1998</td>
          </tr>
        </table>
        <p>
    </p>
      </div>
    </div>
    <div class="navfooter">
      <hr />
      <table width="100%" summary="Navigation footer">
        <tr>
          <td width="40%" align="left"><a accesskey="p" href="notnum.html">Précédent</a> </td>
          <td width="20%" align="center">
            <a accesskey="u" href="OpcodesTop.html">Niveau supérieur</a>
          </td>
          <td width="40%" align="right"> <a accesskey="n" href="nrpn.html">Suivant</a></td>
        </tr>
        <tr>
          <td width="40%" align="left" valign="top">notnum </td>
          <td width="20%" align="center">
            <a accesskey="h" href="index.html">Sommaire</a>
          </td>
          <td width="40%" align="right" valign="top"> nrpn</td>
        </tr>
      </table>
    </div>
  </body>
</html>
