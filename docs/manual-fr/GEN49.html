<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>GEN49</title>
    <link rel="stylesheet" type="text/css" href="csound.css" />
    <link rel="stylesheet" type="text/css" href="syntax-highlighting.css" />
    <meta name="generator" content="DocBook XSL Stylesheets V1.79.1" />
    <link rel="home" href="index.html" title="Manuel de référence canonique de Csound" />
    <link rel="up" href="ScoregensTop.html" title="Instructions de partition et routines GEN" />
    <link rel="prev" href="GEN44.html" title="GEN44" />
    <link rel="next" href="GEN51.html" title="GEN51" />
  </head>
  <body>
    <div class="navheader">
      <table width="100%" summary="Navigation header">
        <tr>
          <th colspan="3" align="center">GEN49</th>
        </tr>
        <tr>
          <td width="20%" align="left"><a accesskey="p" href="GEN44.html">Précédent</a> </td>
          <th width="60%" align="center">Instructions de partition et routines GEN</th>
          <td width="20%" align="right"> <a accesskey="n" href="GEN51.html">Suivant</a></td>
        </tr>
      </table>
      <hr />
    </div>
    <div class="refentry">
      <a id="GEN49"></a>
      <div class="titlepage"></div>
      <a id="IndexGEN49" class="indexterm"></a>
      <div class="refnamediv">
        <h2>
          <span class="refentrytitle">GEN49</span>
        </h2>
        <p>GEN49 — 
      Transfère les données d'un fichier son MP3 dans une table de fonction.
    </p>
      </div>
      <div class="refsect1">
        <a id="idm290128"></a>
        <h2>Description</h2>
        <p>
      Ce sous-programme transfère les données d'un fichier son MP3 dans une table
      de fonction.
    </p>
      </div>
      <div class="refsect1">
        <a id="idm290131"></a>
        <h2>Syntaxe</h2>
        <pre class="synopsis"><span class="command"><strong>f</strong></span>#  time  size  49  filcod  skiptime  format</pre>
      </div>
      <div class="refsect1">
        <a id="idm290135"></a>
        <h2>Exécution</h2>
        <p>
      <span class="emphasis"><em>size</em></span> -- nombre de points dans la table. Ordinairement une puissance de 2 ou
      une puissance-de-2 plus 1 (voir l'<a class="link" href="f.html" title="Instruction f (ou instruction de table de fonction)"><em class="citetitle">instruction f</em></a>) ;
      la taille de table maximale est de 16777216 (2<sup>24</sup>) points. L'allocation de
      mémoire pour la table peut être <span class="emphasis"><em>différée</em></span> en mettant ce paramètre à 0 ; la taille
      allouée est alors le nombre de points dans le fichier (probablement pas une puissance de 2), et la
      table n'est pas utilisable par les oscillateurs normaux, mais par l'unité
      <a class="link" href="loscil.html" title="loscil"><em class="citetitle">loscil</em></a>. Le fichier son peut être mono ou
      stéréo.
    </p>
        <p>
      <span class="emphasis"><em>filcod</em></span> -- entier ou chaîne de caractères dénotant le nom du fichier son source.
      Un entier dénote le fichier <span class="emphasis"><em>soundin</em></span>.<span class="emphasis"><em>filcod</em></span> ; une chaîne de
      caractères (entre apostrophes doubles, espaces autorisés) donne le nom du fichier lui-même,
      optionnellement un nom de chemin complet. Si le chemin n'est pas complet, le fichier est d'abord
      cherché dans le répertoire courant, ensuite dans celui qui est donné par la variable d'environnement
      <a class="link" href="CommandEnvironment.html" title="Variables d'environnement de Csound"><em class="citetitle">SSDIR</em></a> (si elle est définie) enfin par
      <a class="link" href="CommandEnvironment.html" title="Variables d'environnement de Csound"><em class="citetitle">SFDIR</em></a>. Voir aussi
      <a class="link" href="soundin.html" title="soundin"><em class="citetitle">soundin</em></a>.
    </p>
        <p>
      <span class="emphasis"><em>skiptime</em></span> -- commence à lire à <span class="emphasis"><em>skiptime</em></span> secondes
      dans le fichier.
    </p>
        <p>
      <span class="emphasis"><em>format</em></span> -- spécife le format de fichier audio requis :
        </p>
        <div class="literallayout">
          <p><br />
1 - Fichier mono                 3 - Premier canal (gauche)<br />
2 - Fichier stéréo               4 - Second canal (droite)<br />
        </p>
        </div>
        <p>
    </p>
        <p>
      Si <span class="emphasis"><em>format</em></span> = 0 le format d'échantillon est pris dans l'en-tête du
      fichier son.
    </p>
        <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
          <table border="0" summary="Note: Note">
            <tr>
              <td rowspan="2" align="center" valign="top" width="25">
                <img alt="[Note]" src="images/note.png" />
              </td>
              <th align="left">Note</th>
            </tr>
            <tr>
              <td align="left" valign="top">
                <p>
        </p>
                <div class="itemizedlist">
                  <ul class="itemizedlist" style="list-style-type: disc; ">
                    <li class="listitem">
                      <p>
              La lecture s'arrête à la fin du fichier ou lorsque la table est pleine.
              Les cellules de la table non remplies contiendront des zéros.
            </p>
                    </li>
                    <li class="listitem">
                      <p>
              Si p4 est positif, la table sera post-normalisée (reproportionnée avec une
              valeur absolue maximale de 1 après génération). Une valeur de p4 négative
              empêche cette opération.
            </p>
                    </li>
                  </ul>
                </div>
                <p>
      </p>
              </td>
            </tr>
          </table>
        </div>
      </div>
      <div class="refsect1">
        <a id="idm290171"></a>
        <h2>Exemples</h2>
        <p>
      Voici un exemple de la routine GEN49. Il utilise le fichier
      <a class="ulink" href="examples/gen49.csd" target="_top"><em class="citetitle">gen49.csd</em></a>.
      </p>
        <div class="example">
          <a id="idm290176"></a>
          <p class="title">
            <strong>Exemple 1303. Un exemple de la routine GEN49.</strong>
          </p>
          <div class="example-contents">
            <div class="refsect1">
              <a id="idm290178"></a>
              <pre class="programlisting">
<span class="nt">&lt;CsoundSynthesizer&gt;</span>
<span class="nt">&lt;CsOptions&gt;</span>
<span class="c1">; Select audio/midi flags here according to platform</span>
-odac      <span class="c1">;;;realtime audio out</span>
<span class="c1">;-iadc    ;;;uncomment -iadc if realtime audio input is needed too</span>
<span class="c1">; For Non-realtime ouput leave only the line below:</span>
<span class="c1">; -o gen49.wav -W ;;; for file output any platform</span>
<span class="nt">&lt;/CsOptions&gt;</span>
<span class="nt">&lt;CsInstruments&gt;</span>

<span class="vg">sr</span> <span class="o">=</span> <span class="mi">44100</span> 
<span class="vg">ksmps</span> <span class="o">=</span> <span class="mi">32</span> 
<span class="vg">nchnls</span> <span class="o">=</span> <span class="mi">2</span> 
<span class="vg">0dbfs</span>  <span class="o">=</span> <span class="mi">1</span> 

<span class="kd">instr</span> <span class="nf">1</span>

k<span class="n">cps</span> <span class="o">=</span> <span class="vg">sr</span><span class="o">/</span><span class="nb">ftlen</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
a<span class="n">sig</span> <span class="nb">oscil</span> <span class="mf">.8</span><span class="p">,</span> k<span class="n">cps</span><span class="p">,</span> <span class="mi">1</span>
   <span class="nb">outs</span> a<span class="n">sig</span><span class="p">,</span> a<span class="n">sig</span>
   
<span class="kd">endin</span>
<span class="nt">&lt;/CsInstruments&gt;</span>
<span class="nt">&lt;CsScore&gt;</span>
<span class="nb">f</span> <span class="mi">1</span> <span class="mi">0</span> <span class="mi">131072</span> <span class="mi">49</span> <span class="s">"beats.mp3"</span> <span class="mi">0</span> <span class="mi">1</span>	<span class="c1">;read an audio file (using GEN49).</span>

<span class="nb">i</span> <span class="mi">1</span> <span class="mi">0</span> <span class="mi">2</span>
<span class="nb">e</span>
<span class="nt">&lt;/CsScore&gt;</span>
<span class="nt">&lt;/CsoundSynthesizer&gt;</span>
</pre>
            </div>
          </div>
        </div>
        <p><br class="example-break" />
      
      <span class="phrase">Voici le diagramme de la forme d'onde de la routine GEN49 utilisée
        dans l'exemple :</span>

      </p>
        <div class="mediaobject">
          <img src="images/gen49.png" alt="f 1 0 131072 49 &quot;beats.mp3&quot; 0 1" />
          <div class="caption">
            <p>f 1 0 131072 49 "beats.mp3" 0 1</p>
          </div>
        </div>
        <p>

    </p>
      </div>
      <div class="refsect1">
        <a id="idm290250"></a>
        <h2>Crédits</h2>
        <p>Ecrit par John ffitch</p>
        <p>Février 2009.</p>
      </div>
    </div>
    <div class="navfooter">
      <hr />
      <table width="100%" summary="Navigation footer">
        <tr>
          <td width="40%" align="left"><a accesskey="p" href="GEN44.html">Précédent</a> </td>
          <td width="20%" align="center">
            <a accesskey="u" href="ScoregensTop.html">Niveau supérieur</a>
          </td>
          <td width="40%" align="right"> <a accesskey="n" href="GEN51.html">Suivant</a></td>
        </tr>
        <tr>
          <td width="40%" align="left" valign="top">GEN44 </td>
          <td width="20%" align="center">
            <a accesskey="h" href="index.html">Sommaire</a>
          </td>
          <td width="40%" align="right" valign="top"> GEN51</td>
        </tr>
      </table>
    </div>
  </body>
</html>
