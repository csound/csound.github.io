/**
 * Csound language patterns
 * Based on https://github.com/ccampbell/rainbow/blob/master/js/language/generic.js
 *
 * @author Eugene Cherny
 * @version 0.1
 */
Rainbow.extend('csound', [
    {
        'name': 'keyword.other',
        'pattern': /&lt;\/?(CsoundSynthesizer|CsOptions|CsInstruments|CsScore)&gt;/gm
    },
    {
        'name': 'comment',
        'pattern': /\/\*[\s\S]*?\*\/|\/\/[\s\S]*?$|;[\s\S]*?$/gm
    },
    {
        'name': 'constant.numeric',
        // 'pattern': /\b(\d+(\.\d+)?)\b/gi
        'pattern': /\b\d+|d+\.d*|\.\d+\b/gi
    },
    {
        'name': 'keyword.operator',
        'pattern': /\!|&(gt|lt|amp);|\\|\\|\=|\=\=|\!\=|\*|\/|\+|\-|\+\=|\-\=|\*\=|\/\=/g
    },
    {
        'matches': {
            1: 'keyword'
        },
        'pattern': /\b(if|then|elseif|endif)\b/gi
    },
    {
        'matches': {
            1: 'variable.language'
        },
        'pattern': /\b(ar|sr|kr|ksmps|nchnls|0dbfs)\b/g
    },
    {
        'matches': {
            1: 'entity.function'
        },
        'pattern': /\b(a|abetarand|abexprnd|abs|acauchy|active|adsr|adsyn|adsynt|adsynt2|aexprand|aftouch|agauss|agogobel|alinrand|alpass|alwayson|ampdb|ampdbfs|ampmidi|ampmidid|apcauchy|apoisson|apow|areson|aresonk|atone|atonek|atonex|atrirand|ATSadd|ATSaddnz|ATSbufread|ATScross|ATSinfo|ATSinterpread|ATSbufread|ATSread|ATSreadnz|ATSpartialtap|ATSbufread|ATSsinnoi|aunirand|aweibull|babo|balance|bamboo|barmodel|bbcutm|bbcuts|betarand|bexprnd|bformenc|bformenc1|bformdec|bformdec1|binit|biquad|biquada|birnd|bqrez|butbp|butbr|buthp|butlp|butterbp|butterbr|butterhp|butterlp|button|buzz|cabasa|cauchy|cauchyi|ceil|cell|cent|cggoto|chanctrl|changed|chani|chano|chebyshevpoly|checkbox|chn_k|chn_a|chn_S|chnclear|chnexport|chnget|chnmix|chnparams|chnrecv|chnsend|chnset|chuap|cigoto|ckgoto|clear|clfilt|clip|clock|clockoff|clockon|cngoto|comb|compress|connect|control|convle|convolve|copy2ftab|copy2ttab|cos|cosh|cosinv|cps2pch|cpsmidi|cpsmidib|cpsmidinn|cpsoct|cpspch|cpstmid|cpstun|cpstuni|cpsxpch|cpumeter|cpuprc|cross2|crossfm|crunch|ctrl14|ctrl21|ctrl7|ctrlinit|cuserrnd|dam|date|dates|db|dbamp|dbfsamp|dcblock|dcblock2|dconv|delay|delay1|delayk|delayr|delayw|deltap|deltap3|deltapi|deltapn|deltapx|deltapxw|denorm|diff|diskgrain|diskin|diskin2|dispfft|display|distort|distort1|divz|doppler|downsamp|dripwater|dssiactivate|dssiaudio|dssictls|dssiinit|dssilist|dumpk|dumpk2|dumpk3|dumpk4|duserrnd|dust|dust2|envlpx|envlpxr|ephasor|eqfil|event|event_i|exitnow|exp|expcurve|expon|exprand|exprandi|expseg|expsega|expsegb|expsegba|expsegr|fareylen|fareyleni|ficlose|filebit|filelen|filenchnls|filepeak|filesr|filevalid|filter2|fin|fini|fink|fiopen|flanger|flashtxt|FLbox|FLbutBank|FLbutton|FLcloseButton|FLcolor|FLcolor2|FLcount|FLexecButton|FLgetsnap|FLgroup|FLgroupEnd|FLgroup_end|FLhide|FLhvsBox|FLhvsBoxSetValue|FLjoy|FLkeyIn|FLknob|FLlabel|FLloadsnap|FLmouse|flooper|flooper2|floor|FLpack|FLpackEnd|FLpack_end|FLpanel|FLpanelEnd|FLpanel_end|FLprintk|FLprintk2|FLroller|FLrun|FLsavesnap|FLscroll|FLscrollEnd|FLscroll_end|FLsetAlign|FLsetBox|FLsetColor|FLsetColor2|FLsetFont|FLsetPosition|FLsetSize|FLsetsnap|FLsetSnapGroup|FLsetText|FLsetTextColor|FLsetTextSize|FLsetTextType|FLsetVal_i|FLsetVal|FLshow|FLslidBnk|FLslidBnk2|FLslidBnkGetHandle|FLslidBnkSet|FLslidBnkSetk|FLslidBnk2Set|FLslidBnk2Setk|FLslider|FLtabs|FLtabsEnd|FLtabs_end|FLtext|FLupdate|fluidAllOut|fluidCCi|fluidCCk|fluidControl|fluidEngine|fluidLoad|fluidNote|fluidOut|fluidProgramSelect|fluidSetInterpMethod|FLvalue|FLvkeybd|FLvslidBnk|FLvslidBnk2|FLxyin|fmb3|fmbell|fmmetal|fmpercfl|fmrhode|fmvoice|fmwurlie|fof|fof2|fofilter|fog|fold|follow|follow2|foscil|foscili|fout|fouti|foutir|foutk|fprintks|fprints|frac|fractalnoise|freeverb|ftchnls|ftconv|ftcps|ftfree|ftgen|ftgenonce|ftgentmp|ftlen|ftload|ftloadk|ftlptim|ftmorf|ftsave|ftsavek|ftsr|gain|gainslider|gauss|gaussi|gausstrig|gbuzz|gendy|gendyc|gendyx|getcfg|gogobel|goto|grain|grain2|grain3|granule|guiro|harmon|harmon2|hilbert|hrtfer|hrtfearly|hrtfmove|hrtfmove2|hrtfreverb|hrtfstat|hsboscil|hvs1|hvs2|hvs3|i|ibetarand|ibexprnd|icauchy|ictrl14|ictrl21|ictrl7|iexprand|igauss|ihold|ilinrand|imagecreate|imagefree|imagegetpixel|imageload|imagesave|imagesetpixel|imagesize|imidic14|imidic21|imidic7|in|in32|inch|inh|init|initc14|initc21|initc7|inleta|inletk|inletkid|inletf|ino|inq|inrg|ins|insremot|insglobal|instimek|instimes|int|integ|interp|invalue|inx|inz|ioff|ion|iondur|iondur2|ioutat|ioutc|ioutc14|ioutpat|ioutpb|ioutpc|ipcauchy|ipoisson|ipow|is16b14|is32b14|islider16|islider32|islider64|islider8|itablecopy|itablegpw|itablemix|itablew|itrirand|iunirand|iweibull|JackoAudioIn|JackoAudioInConnect|JackoAudioOut|JackoAudioOutConnect|JackoFreewheel|JackoInfo|JackoInit|JackoMidiInConnect|JackoMidiOutConnect|JackoMidiOut|JackoNoteOut|JackoOn|JackoTransport|jacktransport|jitter|jitter2|jspline|k|kbetarand|kbexprnd|kcauchy|kdump|kdump2|kdump3|kdump4|kexprand|kfilter2|kgauss|klinrand|kon|koutat|koutc|koutc14|koutpat|koutpb|koutpc|kpcauchy|kpoisson|kpow|kr|kread|kread2|kread3|kread4|ksmps|ktableseg|ktrirand|kunirand|kweibull|lfo|limit|line|linen|linenr|lineto|linrand|linseg|linsegb|linsegr|locsend|locsig|log|log10|logbtwo|logcurve|loop_ge|loop_gt|loop_le|loop_lt|loopseg|loopsegp|looptseg|loopxseg|lorenz|lorisread|lorismorph|lorisplay|loscil|loscil3|loscilx|lowpass2|lowres|lowresx|lpf18|lpfreson|lphasor|lpinterp|lposcil|lposcil3|lposcila|lposcilsa|lposcilsa2|lpread|lpreson|lpshold|lpsholdp|lpslot|lua_exec|lua_opdef|lua_opcall|mac|maca|madsr|mandel|mandol|marimba|massign|max|maxabs|maxabsaccum|maxaccum|maxalloc|max_k|maxtab|mclock|mdelay|median|mediank|metro|midglobal|midic14|midic21|midic7|midichannelaftertouch|midichn|midicontrolchange|midictrl|mididefault|midiin|midinoteoff|midinoteoncps|midinoteonkey|midinoteonoct|midinoteonpch|midion2|midion|midiout|midipitchbend|midipolyaftertouch|midiprogramchange|miditempo|midremot|min|minabs|minabsaccum|minaccum|mincer|mintab|mirror|MixerSetLevel|MixerSetLevel_i|MixerGetLevel|MixerSend|MixerReceive|MixerClear|mode|modmatrix|monitor|moog|moogladder|moogvcf|moogvcf2|moscil|mp3in|mp3len|mpulse|mrtmsg|OSCinit|OSClisten|OSCsend|multtab|multitap|mute|mxadsr|nchnls|nchnls_i|nestedap|nlfilt|noise|noteoff|noteon|noteondur2|noteondur|notnum|nreverb|nrpn|nsamp|nstrnum|ntrpol|octave|octcps|octmidi|octmidib|octmidinn|octpch|oscbnk|oscil1|oscil1i|oscil3|oscil|oscili|oscilikt|osciliktp|oscilikts|osciln|oscils|oscilx|out32|out|outall|outc|outch|outh|outiat|outic14|outic|outipat|outipb|outipc|outkat|outkc14|outkc|outkpat|outkpb|outkpc|outleta|outletf|outletk|outletkid|outo|outq1|outq2|outq3|outq4|outq|outrg|outs1|outs2|outs|outvalue|outx|outz|p5gconnect|p5gdata|p|pan2|pan|pareq|partials|partikkel|partikkelsync|passign|pcauchy|pchbend|pchmidi|pchmidib|pchmidinn|pchoct|pconvolve|pcount|pdclip|pdhalf|pdhalfy|peak|peakk|pgmassign|phaser1|phaser2|phasor|phasorbnk|pindex|pinkish|pitch|pitchamdf|planet|pluck|plustab|poisson|polyaft|polynomial|pop|pop_f|port|portk|poscil3|poscil|pow|powershape|powoftwo|prealloc|prepiano|print|printf|printk2|printk|printks|prints|product|pset|ptable|ptablei|ptable3|ptablew|ptrack|push|push_f|puts|pvadd|pvbufread|pvcross|pvinterp|pvoc|pvread|pvsadsyn|pvsanal|pvsarp|pvsbandp|pvsbandr|pvsbin|pvsblur|pvsbuffer|pvsbufread|pvsbufread2|pvscale|pvscent|pvscross|pvsdemix|pvsdiskin|pvsdisp|pvsfilter|pvsfread|pvsfreeze|pvsftr|pvsftw|pvsfwrite|pvsgain|pvshift|pvsifd|pvsinfo|pvsinit|pvsin|pvslock|pvsmaska|pvsmix|pvsmorph|pvsmooth|pvsout|pvsosc|pvspitch|pvstanal|pvstencil|pvsvoc|pvsynth|pvswarp|pvs2tab|pyassign|pyassigni|pylassign|pylassigni|pyassignt|pylassignt|pycall|pycall1|pycall2|pycall3|pycall4|pycall5|pycall6|pycall7|pycall8|pycallt|pycall1t|pycall2t|pycall3t|pycall4t|pycall5t|pycall6t|pycall7t|pycall8t|pycalli|pycall1i|pycall2i|pycall3i|pycall4i|pycall5i|pycall6i|pycall7i|pycall8i|pycalln|pycallni|pylcall|pylcall1|pylcall2|pylcall3|pylcall4|pylcall5|pylcall6|pylcall7|pylcall8|pylcallt|pylcall1t|pylcall2t|pylcall3t|pylcall4t|pylcall5t|pylcall6t|pylcall7t|pylcall8t|pylcalli|pylcall1i|pylcall2i|pylcall3i|pylcall4i|pylcall5i|pylcall6i|pylcall7i|pylcall8i|pylcalln|pylcallni|pyeval|pyevali|pyleval|pylevali|pyevalt|pylevalt|pyexec|pyexeci|pylexec|pylexeci|pyexect|plyexect|pyinit|pyrun|pyruni|pylrun|pylruni|pyrunt|pylrunt|qinf|qnan|rand|randh|randi|random|randomh|randomi|rbjeq|readclock|readk|readk2|readk3|readk4|reinit|release|remoteport|remove|repluck|reson|resonk|resonr|resonx|resonxk|resony|resonz|resyn|reverb|reverb2|reverbsc|rewindscore|rezzy|rigoto|rireturn|rms|rnd|rnd31|round|rspline|rtclock|s16b14|s32b14|samphold|sandpaper|scale|scalet|scanhammer|scans|scantable|scanu|schedkwhen|schedkwhennamed|schedule|schedwhen|scoreline|scoreline_i|seed|sekere|semitone|sense|sensekey|serialBegin|serialEnd|serialFlush|serialPrint|serialRead|serialWrite_i|serialWrite|seqtime2|seqtime|setctrl|setksmps|setscorepos|sfilist|sfinstr3|sfinstr3m|sfinstr|sfinstrm|sfload|sflooper|sfpassign|sfplay3|sfplay3m|sfplay|sfplaym|sfplist|sfpreset|shaker|sin|sinh|sininv|sinsyn|sleighbells|slider16|slider16f|slider16table|slider16tablef|slider32|slider32f|slider32table|slider32tablef|slider64|slider64f|slider64table|slider64tablef|slider8|slider8f|slider8table|slider8tablef|sliderKawai|sndload|sndloop|sndwarp|sndwarpst|sockrecv|socksend|soundin|soundout|soundouts|space|spat3d|spat3di|spat3dt|spdist|specaddm|specdiff|specdisp|specfilt|spechist|specptrk|specscal|specsum|spectrum|splitrig|sprintf|sprintfk|spsend|sqrt|sr|stack|statevar|stix|STKBandedWG|STKBeeThree|STKBlowBotl|STKBlowHole|STKBowed|STKBrass|STKClarinet|STKDrummer|STKFlute|STKFMVoices|STKHevyMetl|STKMandolin|STKModalBar|STKMoog|STKPercFlut|STKPlucked|STKResonate|STKRhodey|STKSaxofony|STKShakers|STKSimple|STKSitar|STKStifKarp|STKTubeBell|STKVoicForm|STKWhistle|STKWurley|strchar|strchark|strcpy|strcpyk|strcat|strcatk|strcmp|strcmpk|streson|strget|strindex|strindexk|strlen|strlenk|strlower|strlowerk|strrindex|strrindexk|strset|strsub|strsubk|strtod|strtodk|strtol|strtolk|strupper|strupperk|subinstr|subinstrinit|sum|sumtab|svfilter|syncgrain|syncloop|syncphasor|system|tb|tab|tabrec|table|table3|tablecopy|tablefilter|tablefilteri|tablegpw|tablei|tableicopy|tableigpw|tableikt|tableimix|tableiw|tablekt|tablemix|tableng|tablera|tableseg|tableshuffle|tablew|tablewa|tablewkt|tablexkt|tablexseg|tabmorph|tabmorpha|tabmorphak|tabmorphi|tabplay|tabsum|tab2pvs|tambourine|tan|tanh|taninv|taninv2|tbvcf|tempest|tempo|temposcal|tempoval|tigoto|timedseq|timeinstk|timeinsts|timek|times|timout|tival|tlineto|tone|tonek|tonex|trandom|tradsyn|transeg|transegb|transegr|trcross|trfilter|trhighest|trigger|trigseq|trirand|trlowest|trmix|trscale|trshift|trsplit|turnoff|turnoff2|turnon|unirand|until|upsamp|urandom|urd|vadd|vadd_i|vaddv|vaddv_i|vaget|valpass|vaset|vbap16|vbap16move|vbap4|vbap4move|vbap8|vbap8move|vbaplsinit|vbapz|vbapzmove|vcella|vco|vco2|vco2ft|vco2ift|vco2init|vcomb|vcopy|vcopy_i|vdelay|vdelay3|vdelayx|vdelayxq|vdelayxs|vdelayxw|vdelayxwq|vdelayxws|vdivv|vdivv_i|vdelayk|vecdelay|veloc|vexp|vexp_i|vexpseg|vexpv|vexpv_i|vibes|vibr|vibrato|vincr|vlimit|vlinseg|vlowres|vmap|vmirror|vmult|vmult_i|vmultv|vmultv_i|voice|vosim|vphaseseg|vport|vpow|vpow_i|vpowv|vpowv_i|vpvoc|vrandh|vrandi|vstaudio|vstaudiog|vstbankload|vstedit|vstinit|vstinfo|vstmidiout|vstnote|vstparamset|vstparamget|vstprogset|vsubv|vsubv_i|vtable1k|vtablei|vtablek|vtablea|vtablewi|vtablewk|vtablewa|vtabi|vtabk|vtaba|vtabwi|vtabwk|vtabwa|vwrap|waveset|weibull|wgbow|wgbowedbar|wgbrass|wgclar|wgflute|wgpluck|wgpluck2|wguide1|wguide2|wiiconnect|wiidata|wiirange|wiisend|wrap|wterrain|xadsr|xin|xout|xscanmap|xscansmap|xscans|xscanu|xtratim|xyin|zacl|zakinit|zamod|zar|zarg|zaw|zawm|zfilter2|zir|ziw|ziwm|zkcl|zkmod|zkr|zkw|zkwm|opcode|myOpcode1|myOpcode2|myOpcode3)\b/g
    },
    {
        'name': 'keyword.variable',
        'pattern': /instr|endin|opcode|endop/g
    },
    {
        'name': 'support.function',
        'pattern': /\b(g?[akipSfwx]\w+)\b/g
    },
    {
        'matches': {
            1: 'storage.function',
            2: 'entity.name.function'
        },
        'pattern': /(function)\s(.*?)(?=\()/g
    }
]);
